<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" >

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />   <meta name="author" content="Amin Meyghani" />     <title>Introduction to Angular 2</title>
    <style type="text/css">
    code {
      white-space: pre;
    }
    </style>
       <style type="text/css">
    div.sourceCode { overflow-x: auto; }
    table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
      margin: 0; padding: 0; vertical-align: baseline; border: none; }
    table.sourceCode { width: 100%; line-height: 100%; }
    td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
    td.sourceCode { padding-left: 5px; }
    code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code > span.dt { color: #902000; } /* DataType */
    code > span.dv { color: #40a070; } /* DecVal */
    code > span.bn { color: #40a070; } /* BaseN */
    code > span.fl { color: #40a070; } /* Float */
    code > span.ch { color: #4070a0; } /* Char */
    code > span.st { color: #4070a0; } /* String */
    code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code > span.ot { color: #007020; } /* Other */
    code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code > span.fu { color: #06287e; } /* Function */
    code > span.er { color: #ff0000; font-weight: bold; } /* Error */
    code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
    code > span.cn { color: #880000; } /* Constant */
    code > span.sc { color: #4070a0; } /* SpecialChar */
    code > span.vs { color: #4070a0; } /* VerbatimString */
    code > span.ss { color: #bb6688; } /* SpecialString */
    code > span.im { } /* Import */
    code > span.va { color: #19177c; } /* Variable */
    code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code > span.op { color: #666666; } /* Operator */
    code > span.bu { } /* BuiltIn */
    code > span.ex { } /* Extension */
    code > span.pp { color: #bc7a00; } /* Preprocessor */
    code > span.at { color: #7d9029; } /* Attribute */
    code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    </style>

    <style>

    /* toc and content */
    .l-main-content {
      float: left;
      width: 940px;
      position: relative;
      left: 333px;
    }

    .l-toc {
      width: 305px;
      position: fixed;
      border-right: 1px solid #e5e6e7;
      padding-left: 5px;
    }
    #TOC {
      height: 100vh;
      overflow: auto;
    }
    table.sourceCode {
      width: auto !important;
      line-height: 1.5em !important;
    }
    @media print {
    /*  .sourceCode pre {
        border: none !important;
      }
      .lineNumbers pre {
        display: block !important;
        width: 20px !important;
        padding: 0 !important;
        margin: 0 !important;
      }*/
    }

    </style>
  </head>
  <style>
  .toggle-content {
    cursor: pointer;
    z-index: 5;
    position: fixed;
    top: 0;
    right: 0;
  }
  .toggle-content:hover {
    opacity: 0.6;
  }
  @media print {
    #js-toggle-content {
      display: none;
    }
  }
  </style>
  <style type="text/css">
    /*!
     * Milligram v1.0.3
     * http://milligram.github.io
     *
     * Copyright (c) 2015, CJ Patoilo
     * Licensed under the MIT license
    */


    html{box-sizing:border-box;font-size:62.5%}body{color:#606c76;font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif;font-size:1.6em;font-weight:300;letter-spacing:0.01em;line-height:1.6}*,*:after,*:before{box-sizing:border-box}blockquote{border-left:0.3rem solid #d1d1d1;margin-left:0;margin-right:0;padding:1rem 1.5rem}blockquote *:last-child{margin:0}.button,button,input[type='button'],input[type='reset'],input[type='submit']{background-color:#9b4dca;border:0.1rem solid #9b4dca;border-radius:0.4rem;box-sizing:border-box;color:#fff;cursor:pointer;display:inline-block;font-size:1.1rem;font-weight:700;height:3.8rem;letter-spacing:0.1rem;line-height:3.8rem;padding:0 3rem;text-align:center;text-decoration:none;text-transform:uppercase;white-space:nowrap}.button:hover,.button:focus,button:hover,button:focus,input[type='button']:hover,input[type='button']:focus,input[type='reset']:hover,input[type='reset']:focus,input[type='submit']:hover,input[type='submit']:focus{background-color:#606c76;border-color:#606c76;color:#fff;outline:0}.button.button-outline,button.button-outline,input[type='button'].button-outline,input[type='reset'].button-outline,input[type='submit'].button-outline{color:#9b4dca;background-color:transparent}.button.button-outline:hover,.button.button-outline:focus,button.button-outline:hover,button.button-outline:focus,input[type='button'].button-outline:hover,input[type='button'].button-outline:focus,input[type='reset'].button-outline:hover,input[type='reset'].button-outline:focus,input[type='submit'].button-outline:hover,input[type='submit'].button-outline:focus{color:#606c76;background-color:transparent;border-color:#606c76}.button.button-clear,button.button-clear,input[type='button'].button-clear,input[type='reset'].button-clear,input[type='submit'].button-clear{color:#9b4dca;background-color:transparent;border-color:transparent}.button.button-clear:hover,.button.button-clear:focus,button.button-clear:hover,button.button-clear:focus,input[type='button'].button-clear:hover,input[type='button'].button-clear:focus,input[type='reset'].button-clear:hover,input[type='reset'].button-clear:focus,input[type='submit'].button-clear:hover,input[type='submit'].button-clear:focus{color:#606c76;background-color:transparent;border-color:transparent}pre{background:#f4f5f6;border-left:0.3rem solid #9b4dca;font-family:Menlo,Consolas,"Bitstream Vera Sans Mono","DejaVu Sans Mono",Monaco,monospace}code{background:#f4f5f6;border-radius:0.4rem;font-size:86%;padding:0.2rem 0.5rem;margin:0 0.2rem;white-space:nowrap}pre>code{background:transparent;border-radius:0;display:block;padding:1rem 1.5rem;white-space:pre}input[type='email'],input[type='number'],input[type='password'],input[type='search'],input[type='tel'],input[type='text'],input[type='url'],textarea,select{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:0.1rem solid #d1d1d1;border-radius:0.4rem;box-shadow:none;box-sizing:border-box;height:3.8rem;padding:0.6rem 1rem;width:100%}input[type='email']:focus,input[type='number']:focus,input[type='password']:focus,input[type='search']:focus,input[type='tel']:focus,input[type='text']:focus,input[type='url']:focus,textarea:focus,select:focus{border:0.1rem solid #9b4dca;outline:0}textarea{padding-bottom:0.6rem;padding-top:0.6rem;min-height:6.5rem}label,legend{font-size:1.6rem;font-weight:700;display:block;margin-bottom:0.5rem}fieldset{border-width:0;padding:0}input[type='checkbox'],input[type='radio']{display:inline}.label-inline{font-weight:normal;display:inline-block;margin-left:0.5rem}.container{box-sizing:border-box;margin:0 auto;max-width:112rem;padding:0 2rem;position:relative;width:100%}.row{display:flex;flex-direction:column;padding:0;width:100%}.row .row-wrap{flex-wrap:wrap}.row .row-no-padding{padding:0}.row .row-no-padding>.column{padding:0}.row .row-top{align-items:flex-start}.row .row-bottom{align-items:flex-end}.row .row-center{align-items:center}.row .row-stretch{align-items:stretch}.row .row-baseline{align-items:baseline}.row .column{display:block;flex:1;margin-left:0;max-width:100%;width:100%}.row .column .col-top{align-self:flex-start}.row .column .col-bottom{align-self:flex-end}.row .column .col-center{align-self:center}.row .column.column-offset-10{margin-left:10%}.row .column.column-offset-20{margin-left:20%}.row .column.column-offset-25{margin-left:25%}.row .column.column-offset-33,.row .column.column-offset-34{margin-left:33.3333%}.row .column.column-offset-50{margin-left:50%}.row .column.column-offset-66,.row .column.column-offset-67{margin-left:66.6666%}.row .column.column-offset-75{margin-left:75%}.row .column.column-offset-80{margin-left:80%}.row .column.column-offset-90{margin-left:90%}.row .column.column-10{flex:0 0 10%;max-width:10%}.row .column.column-20{flex:0 0 20%;max-width:20%}.row .column.column-25{flex:0 0 25%;max-width:25%}.row .column.column-33,.row .column.column-34{flex:0 0 33.3333%;max-width:33.3333%}.row .column.column-40{flex:0 0 40%;max-width:40%}.row .column.column-50{flex:0 0 50%;max-width:50%}.row .column.column-60{flex:0 0 60%;max-width:60%}.row .column.column-66,.row .column.column-67{flex:0 0 66.6666%;max-width:66.6666%}.row .column.column-75{flex:0 0 75%;max-width:75%}.row .column.column-80{flex:0 0 80%;max-width:80%}.row .column.column-90{flex:0 0 90%;max-width:90%}@media (min-width: 40rem){.row{flex-direction:row;margin-left:-1rem;width:calc(100% + 2.0rem)}.row .column{margin-bottom:inherit;padding:0 1rem}}a{color:#9b4dca;text-decoration:none}a:hover{color:#606c76}dl,ol,ul{margin-top:0;padding-left:0}dl ul,dl ol,ol ul,ol ol,ul ul,ul ol{font-size:90%;margin:1.5rem 0 1.5rem 3rem}dl{list-style:none}ul{list-style:circle inside}ol{list-style:decimal inside}dt,dd,li{margin-bottom:1rem}hr{border-top:0.1rem solid #f4f5f6;border-width:0;margin-bottom:3.5rem;margin-top:3rem}.button,button{margin-bottom:1rem}input,textarea,select,fieldset{margin-bottom:1.5rem}pre,blockquote,dl,figure,table,p,ul,ol,form{margin-bottom:2.5rem}table{width:100%}th,td{border-bottom:0.1rem solid #e1e1e1;padding:1.2rem 1.5rem;text-align:left}th:first-child,td:first-child{padding-left:0}th:last-child,td:last-child{padding-right:0}p{margin-top:0}h1,h2,h3,h4,h5,h6{font-weight:300;margin-bottom:2rem;margin-top:0}h1{font-size:4rem;letter-spacing:-0.1rem;line-height:1.2}h2{font-size:3.6rem;letter-spacing:-0.1rem;line-height:1.25}h3{font-size:3rem;letter-spacing:-0.1rem;line-height:1.3}h4{font-size:2.4rem;letter-spacing:-0.08rem;line-height:1.35}h5{font-size:1.8rem;letter-spacing:-0.05rem;line-height:1.5}h6{font-size:1.6rem;letter-spacing:0;line-height:1.4}@media (min-width: 40rem){h1{font-size:5rem}h2{font-size:4.2rem}h3{font-size:3.6rem}h4{font-size:3rem}h5{font-size:2.4rem}h6{font-size:1.5rem}}.float-right{float:right}.float-left{float:left}.clearfix{*zoom:1}.clearfix:after,.clearfix:before{content:"";display:table}.clearfix:after{clear:both}

    /*# sourceMappingURL=milligram.min.css.map */
  </style>
  <style type="text/css">
    table.sourceCode {
      position: relative;
      left: -30px;
    }
    code.sourceCode {
      padding-left: 35px;
    }
    td.lineNumbers {
      position: relative;
      left: 38px;
      font-size: 10px;
      border: none;
    }
    td.sourceCode {
      padding-right: 0;
      width: 100%;
    }
    td.lineNumbers pre {
      padding-left: 11px;
      border: none;
    }
    body {
      overflow-x: hidden;
      color: #000;
    }
    code {
      font-size: 100%;
    }
    table {
      width: 100% !important;
    }
  </style>
<body>
     <div id="header">
    <!-- <h1 class="title">Introduction to Angular 2</h1>   -->
    <!-- <h2 class="author">Amin Meyghani</h2> -->
          <code class="toggle-content" id="js-toggle-content">Toggle TOC </code>
  </div>
     <div id="TOC" class="l-toc">
    <ul>
    <li><a href="#notes">Notes</a></li>
    <li><a href="#installing-node">Installing Node</a><ul>
    <li><a href="#permissions">Permissions</a></li>
    <li><a href="#installing-live-server">Installing <code>live-server</code></a></li>
    </ul></li>
    <li><a href="#visual-studio-code">Visual Studio Code</a><ul>
    <li><a href="#visual-studio-code-basics">Visual Studio Code Basics</a></li>
    <li><a href="#setting-up-vscode-for-typescript">Setting up VSCode for TypeScript</a><ul>
    <li><a href="#installing-typescript">Installing TypeScript</a></li>
    <li><a href="#add-vscode-configurations">Add VSCode Configurations</a></li>
    </ul></li>
    <li><a href="#running-vscode-from-the-terminal">Running VSCode from the Terminal</a></li>
    <li><a href="#debugging-app-from-vscode">Debugging App from VSCode</a></li>
    </ul></li>
    <li><a href="#typescript-crash-course">TypeScript Crash-course</a><ul>
    <li><a href="#typescript-basics">TypeScript Basics</a></li>
    <li><a href="#interface">Interface</a><ul>
    <li><a href="#basic-interface">Basic Interface</a></li>
    <li><a href="#classes-as-interfaces">Classes as Interfaces</a></li>
    </ul></li>
    <li><a href="#classes">Classes</a><ul>
    <li><a href="#adding-an-instance-variable">Adding an Instance Variable</a></li>
    <li><a href="#adding-a-method">Adding a Method</a></li>
    <li><a href="#using-access-modifiers">Using Access Modifiers</a></li>
    <li><a href="#adding-a-constructor">Adding a constructor</a></li>
    <li><a href="#setters-and-getters-accessors">Setters and Getters (Accessors)</a></li>
    <li><a href="#static-methods-and-properties">Static Methods and Properties</a></li>
    <li><a href="#implementing-an-interface">Implementing an Interface</a></li>
    <li><a href="#inheritance">Inheritance</a></li>
    <li><a href="#class-decorators">Class Decorators</a></li>
    </ul></li>
    <li><a href="#modules">Modules</a><ul>
    <li><a href="#simple-module">Simple Module</a></li>
    <li><a href="#splitting-internal-modules">Splitting Internal Modules</a></li>
    <li><a href="#external-modules">External Modules</a></li>
    </ul></li>
    <li><a href="#decorators">Decorators</a><ul>
    <li><a href="#method-decorators">Method Decorators</a></li>
    </ul></li>
    </ul></li>
    <li><a href="#angular">Angular</a><ul>
    <li><a href="#project-files">Project Files</a><ul>
    <li><a href="#running-the-project-files">Running the Project Files</a></li>
    <li><a href="#starter-project">Starter Project</a></li>
    </ul></li>
    <li><a href="#using-the-docs">Using the Docs</a></li>
    <li><a href="#metadata-classes">Metadata Classes</a></li>
    <li><a href="#component-basics">Component Basics</a><ul>
    <li><a href="#making-a-simple-component">Making a Simple Component</a></li>
    <li><a href="#component-inputs">Component Inputs</a></li>
    <li><a href="#binding-to-dom-properties">Binding to DOM Properties</a></li>
    <li><a href="#component-outputevents">Component Output/Events</a><ul>
    <li><a href="#custom-output-events">Custom Output Events</a></li>
    <li><a href="#native-dom-output-events">Native DOM Output Events</a></li>
    </ul></li>
    </ul></li>
    <li><a href="#directives">Directives</a><ul>
    <li><a href="#web-components-and-shadow-dom-basics">Web Components and Shadow DOM Basics</a></li>
    <li><a href="#attribute-directives">Attribute Directives</a></li>
    <li><a href="#structural-directives">Structural Directives</a></li>
    <li><a href="#built-in-directives">Built-in Directives</a><ul>
    <li><a href="#ngclass"><code>NgClass</code></a></li>
    <li><a href="#ngif"><code>NgIf</code></a></li>
    </ul></li>
    </ul></li>
    <li><a href="#working-with-forms">Working with Forms</a></li>
    <li><a href="#angular-router">Angular Router</a></li>
    <li><a href="#unit-testing">Unit Testing</a></li>
    </ul></li>
    <li><a href="#deep-dive">Deep Dive</a><ul>
    <li><a href="#components-in-depth">Components in Depth</a></li>
    </ul></li>
    <li><a href="#rxjs">RxJS</a></li>
    </ul>
  </div>
    <div class="l-main-content">
     <div id="notes" class="section level1">
<h1>Notes</h1>
<ul>
<li><p>The book assumes that you are working in a Unix-like environment. If you are on Windows you can use <a href="https://www.cygwin.com/">Cygwin</a> so that you can follow along with the bash terminal commands.</p></li>
<li><p>All the project files for the book are hosted on github: <a href="https://github.com/st32lth/angular2-intro" class="uri">https://github.com/st32lth/angular2-intro</a>. You can clone the repository and check out the project files. Throughout the book, you will see references to the project files. Those refer to this repository. For example, <code>angular2-intro/project-files/hello-angular</code> refers to the <code>hello-angular</code> folder inside the <code>project-files</code> folder.</p></li>
<li><p>Make sure you have <code>git</code> installed on your machine. That is, make sure you get an output for <code>git --version</code>.</p></li>
<li><p>The book assumes that you have a working knowledge of JavaScript and Angular 1.x</p></li>
<li><p>Node is heavily used throughout the book. Make sure that you follow the &quot;Node&quot; chapter to install Node and set permissions correctly.</p></li>
<li><p>All the keyboard shortcuts are mac-based. But if you are using a non-mac machine, you can almost always replace <code>command</code> with <code>ctrl</code> and you should be good. For example, if you a see a shortcut like <code>command + shift + b</code>, you can use <code>ctrl + shift + b</code> where <code>ctrl</code> is obviously the <code>control</code> key.</p></li>
</ul>
</div>
<div id="installing-node" class="section level1">
<h1>Installing Node</h1>
<p>You can use <a href="https://github.com/creationix/nvm">nvm</a> to install and manage Node on your machine. Copy the install script and run it:</p>
<pre><code>curl -o- https://raw.githubusercontent.com/creationix/nvm/v0.30.1/install.sh | bash</code></pre>
<p>After that, make a new terminal window and make sure that it is installed, by running:</p>
<pre><code>nvm --help</code></pre>
<p>Now you can use <code>nvm</code> to install Node <code>0.12.9</code> by running:</p>
<pre><code>nvm install 0.12.9</code></pre>
<p>After that, nvm is going to load version 0.12.9 automatically. If it doesn't, you can load it in the current shell, with:</p>
<pre><code>nvm use 0.12.9</code></pre>
<p>Note that you can load any node version in the current shell with <code>nvm use 0.x.y</code> after installing that version.</p>
<p>Also note that if you want to make <code>0.12.9</code> the default Node version on your machine, you can do so by running the following:</p>
<pre><code>nvm alias default 0.12.9</code></pre>
<p>Then you can verify that it is the default version by making a new terminal window and typing <code>node -v</code>.</p>
<div id="permissions" class="section level2">
<h2>Permissions</h2>
<p>Never use <code>sudo</code> to install packages, never do <code>sudo npm install &lt;package&gt;</code>. If you get permission errors while installing without <code>sudo</code>, you can own the folders instead. So for example, if you get an error like:</p>
<pre><code>Error: EACCES, mkdir &#39;/usr/local&#39;</code></pre>
<p>you can own the folder with:</p>
<pre><code>sudo chown -R `whoami` /usr/local</code></pre>
<p>You can own folders until Node doesn't complain.</p>
</div>
<div id="installing-live-server" class="section level2">
<h2>Installing <code>live-server</code></h2>
<p>Install a package to verify that node is installed and everything is wired up correctly. We are going to use <code>live-server</code> through the book. So let's install that with:</p>
<pre><code>npm i -g live-server</code></pre>
<p>Then, you should be able to run <code>live-server</code> in any folder to serve the content of that folder:</p>
<pre><code>mdkir ~/Desktop/sample &amp;&amp; cd $_
live-server .</code></pre>
</div>
</div>
<div id="visual-studio-code" class="section level1">
<h1>Visual Studio Code</h1>
<p>Visual Studio Code is a good IDE for developing web apps. In this chapter we will look at installing and configuring VSCode.</p>
<div id="visual-studio-code-basics" class="section level2">
<h2>Visual Studio Code Basics</h2>
<ul>
<li><p>Install Visual Studio Code from: <a href="https://code.visualstudio.com/" class="uri">https://code.visualstudio.com/</a></p></li>
<li><p>You can open new projects by going to the <code>File &gt; Open</code> tag, to etierh open a folder containing your project or a single file</p></li>
<li><p>Some useful keyboard shortcuts are:</p>
<ul>
<li><code>command + b</code>: to close/open the file navigator</li>
<li><code>command + shift + p</code>: to open the prompt</li>
</ul></li>
<li><p>To install extensions open the prompt with <code>command + shift + p</code> and type:</p>
<pre><code>&gt; install extension</code></pre></li>
<li><p>You can change the keyboard shortcuts settings from <code>Preferences &gt; Keyboard Shortcuts</code>. Open the settings and then you can add your own shortcuts:</p>
<pre><code>// Place your key bindings in this file to overwrite the defaults
[
  {
    &quot;key&quot;: &quot;cmd+t&quot;,
    &quot;command&quot;: &quot;workbench.action.quickOpen&quot;
  },
  {
    &quot;key&quot;: &quot;shift+cmd+r&quot;,
    &quot;command&quot;: &quot;editor.action.format&quot;,
    &quot;when&quot;: &quot;editorTextFocus&quot;
  }
]</code></pre></li>
</ul>
</div>
<div id="setting-up-vscode-for-typescript" class="section level2">
<h2>Setting up VSCode for TypeScript</h2>
<p>In this section we are going to set up Visual Studio Code for TypeScript. The project files for this chapter are in <a href="https://github.com/st32lth/angular2-intro/tree/master/project-files/vscode"><strong><code>angular2-intro/project-files/vscode</code></strong></a>. You can either follow along or check out the folder to see the final result.</p>
<div id="installing-typescript" class="section level3">
<h3>Installing TypeScript</h3>
<p>Before anything, we need to install the TypeScript compiler. You can install the TypeScript compiler with npm:</p>
<pre><code>npm i typescript -g</code></pre>
<p>Then to verify that it is installed, run <code>tsc -v</code> to see the version of the compiler. You will get an output like this:</p>
<pre><code>message TS6029: Version 1.7.5</code></pre>
<p>In addition to the compiler, we also need to install the TypeScript Definition manager for DefinitelyTyped (tsd). You can install tsd with:</p>
<pre><code>npm i tsd -g</code></pre>
<p>Using TSD, you can search and install TypeScript definition files directly from the community driven DefinitelyTyped repository. To verify that tsd is installed, run tsd with the <code>version</code> flag:</p>
<pre><code>tsd --version</code></pre>
<p>You should get an output like this:</p>
<pre><code>&gt;&gt; tsd 0.6.5</code></pre>
<p>After <code>tsd</code> and <code>tsc</code> are installed, we can compile a hello world program:</p>
<p>make a file called <code>hello.ts</code> on your desktop:</p>
<pre><code>touch ~/Desktop/hello.ts</code></pre>
<p>Then, put some TypeScript code in the file:</p>
<pre><code>echo &quot;const adder = (a: number, b: number): number =&gt; a + b;&quot; &gt; ~/Desktop/hello.ts</code></pre>
<p>Then you can compile the file to JavaScript:</p>
<pre><code>tsc ~/Desktop/hello.ts</code></pre>
<p>It should output a file in <code>Desktop/hello.js</code>:</p>
<div class="sourceCode" startFrom="1"><table class="sourceCode numberLines javascript"><tr class="sourceCode"><td class="lineNumbers"><pre>1
</pre></td><td class="sourceCode"><pre><code class="sourceCode javascript"><span class="kw">var</span> adder <span class="op">=</span> <span class="kw">function</span> (a<span class="op">,</span> b) <span class="op">{</span> <span class="cf">return</span> a <span class="op">+</span> b<span class="op">;</span> <span class="op">};</span></code></pre></td></tr></table></div>
<p>Now that your TypeScript compiler setup, we can move on to configuring Visual Studio Code.</p>
</div>
<div id="add-vscode-configurations" class="section level3">
<h3>Add VSCode Configurations</h3>
<ul>
<li>First download and install Visual Studio Code from the VSCode <a href="https://code.visualstudio.com/">Website</a></li>
<li>After installing VSCode, open it and then make a new window: <code>File &gt; New Window</code></li>
<li>Then, make a folder on your desktop for a new project: <code>mkdir ~/Desktop/vscode-demo</code></li>
<li>After that, open the folder in VSCode: <code>File &gt; open</code> and select the <code>vscode-demo</code> folder on your desktop.</li>
<li><p>Now we need to make three configuration files:</p>
<ol style="list-style-type: decimal">
<li><a href="http://json.schemastore.org/tsconfig"><code>tsconfig.json</code></a>: configuration for the TypeScript compiler</li>
<li><code>tasks.json</code>: Task configuration for VSCode to watch and compile files</li>
<li><code>launch.json</code>: Configuration for the debugger</li>
</ol></li>
</ul>
<p>The <code>tsconfig.json</code> file should be in the root of the project. Let's make the file and put the following in it:</p>
<div class="sourceCode" startFrom="1"><table class="sourceCode numberLines javascript"><tr class="sourceCode"><td class="lineNumbers"><pre>1
2
3
4
5
6
7
8
9
10
11
</pre></td><td class="sourceCode"><pre><code class="sourceCode javascript"><span class="op">{</span>
  <span class="st">&quot;compilerOptions&quot;</span><span class="op">:</span> <span class="op">{</span>
    <span class="st">&quot;experimentalDecorators&quot;</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span>
    <span class="st">&quot;emitDecoratorMetadata&quot;</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span>
    <span class="st">&quot;module&quot;</span><span class="op">:</span> <span class="st">&quot;commonjs&quot;</span><span class="op">,</span>
    <span class="st">&quot;target&quot;</span><span class="op">:</span> <span class="st">&quot;es5&quot;</span><span class="op">,</span>
    <span class="st">&quot;sourceMap&quot;</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span>
    <span class="st">&quot;outDir&quot;</span><span class="op">:</span> <span class="st">&quot;output&quot;</span><span class="op">,</span>
    <span class="st">&quot;watch&quot;</span><span class="op">:</span> <span class="kw">true</span>
  <span class="op">}</span>
<span class="op">}</span></code></pre></td></tr></table></div>
<p>Now to make the <code>tasks.json</code> file. Open the prompt with <code>command + shift + p</code> and type:</p>
<pre><code>&gt; configure task runner</code></pre>
<p>Then put the following in the file and save the file:</p>
<div class="sourceCode" startFrom="1"><table class="sourceCode numberLines javascript"><tr class="sourceCode"><td class="lineNumbers"><pre>1
2
3
4
5
6
7
</pre></td><td class="sourceCode"><pre><code class="sourceCode javascript"><span class="op">{</span>
  <span class="st">&quot;version&quot;</span><span class="op">:</span> <span class="st">&quot;0.1.0&quot;</span><span class="op">,</span>
  <span class="st">&quot;command&quot;</span><span class="op">:</span> <span class="st">&quot;tsc&quot;</span><span class="op">,</span>
  <span class="st">&quot;showOutput&quot;</span><span class="op">:</span> <span class="st">&quot;silent&quot;</span><span class="op">,</span>
  <span class="st">&quot;isShellCommand&quot;</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span>
  <span class="st">&quot;problemMatcher&quot;</span><span class="op">:</span> <span class="st">&quot;$tsc&quot;</span>
<span class="op">}</span></code></pre></td></tr></table></div>
<p>The last thing that we need to set up is the debugger, i.e. the <code>launch.json</code> file. Right click on the <code>.vscode</code> folder in the file navigator and make a new file called <code>launch.json</code> and put in the following:</p>
<div class="sourceCode" startFrom="1"><table class="sourceCode numberLines javascript"><tr class="sourceCode"><td class="lineNumbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="sourceCode"><pre><code class="sourceCode javascript"><span class="op">{</span>
  <span class="st">&quot;version&quot;</span><span class="op">:</span> <span class="st">&quot;0.1.0&quot;</span><span class="op">,</span>
  <span class="st">&quot;configurations&quot;</span><span class="op">:</span> [
    <span class="op">{</span>
      <span class="st">&quot;name&quot;</span><span class="op">:</span> <span class="st">&quot;TS Debugger&quot;</span><span class="op">,</span>
      <span class="st">&quot;type&quot;</span><span class="op">:</span> <span class="st">&quot;node&quot;</span><span class="op">,</span>
      <span class="st">&quot;program&quot;</span><span class="op">:</span> <span class="st">&quot;main.ts&quot;</span><span class="op">,</span>
      <span class="st">&quot;stopOnEntry&quot;</span><span class="op">:</span> <span class="kw">false</span><span class="op">,</span>
      <span class="st">&quot;sourceMaps&quot;</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span>
      <span class="st">&quot;outDir&quot;</span><span class="op">:</span> <span class="st">&quot;output&quot;</span>
    <span class="op">}</span>
  ]
<span class="op">}</span></code></pre></td></tr></table></div>
<p>After you save the file, you should be able to see the debugger in the debugger dropdown options.</p>
<p>Now, we are ready to make the <code>main.ts</code> file in the root of the project:</p>
<p><strong><code>main.ts</code></strong></p>
<div class="sourceCode" startFrom="1"><table class="sourceCode numberLines java"><tr class="sourceCode"><td class="lineNumbers"><pre>1
2
3
</pre></td><td class="sourceCode"><pre><code class="sourceCode java"><span class="dt">const</span> sum = (a: number, b: number): number =&gt; a + b;
<span class="dt">const</span> r = <span class="fu">sum</span>(<span class="dv">1</span>,<span class="dv">2</span>);
console.<span class="fu">log</span>(r);</code></pre></td></tr></table></div>
<p>Now you can start the task to watch the files and compile as you work. Open the prompt with <code>command + shift + p</code> and type:</p>
<pre><code>&gt; run build tasks</code></pre>
<p>you can also use the <code>command + shift + b</code> keyboard shortcut instead. This will start the debugger and watch the files. After making a change to <code>main.ts</code>, you should be able to see the output in the <code>output</code> folder.</p>
<p>After the build task is running, we can put a breakpoint anywhere in our TypeScript code. Let's put a breakpoint on line 2 by clicking on the margin. Then start the debugger by going to the debugger tab and clicking the green play icon.</p>
<p>Now you should see that the program will stop at the breakpoint and you should be able to step over or into your program.</p>
<p>To stop the task you can terminate it. Open the prompt and type:</p>
<pre><code>&gt; terminate running task</code></pre>
<p>You can learn more about running TypeScript with VSCode on MSDN's <a href="http://blogs.msdn.com/b/typescript/archive/2015/04/30/using-typescript-in-visual-studio-code.aspx">blog</a>.</p>
</div>
</div>
<div id="running-vscode-from-the-terminal" class="section level2">
<h2>Running VSCode from the Terminal</h2>
<p>If you want to run VSCode from the terminal, you can follow the <a href="https://code.visualstudio.com/Docs/editor/setup">guide</a> on VSCode's website. Below is the summary of the guide:</p>
<p><strong>MAC</strong></p>
<p>Add the following to your &quot;bash&quot; file:</p>
<pre><code>function code () { VSCODE_CWD=&quot;$PWD&quot; open -n -b &quot;com.microsoft.VSCode&quot; --args $*; }</code></pre>
<p><strong>Linux</strong></p>
<pre><code>sudo ln -s /path/to/vscode/Code /usr/local/bin/code</code></pre>
<p><strong>Windows</strong></p>
<p>You might need to log off after the installation for the change to the PATH environmental variable to take effect.</p>
</div>
<div id="debugging-app-from-vscode" class="section level2">
<h2>Debugging App from VSCode</h2>
<p>The &quot;vscode-chrome-debug&quot; extension allows you to attach VSCode to a running instance of chrome. This makes it very convenient because you can put breakpoints in your TypeScript code and run the debugger to debug your app. Let's get started.</p>
<p>In order to install the <a href="https://github.com/Microsoft/vscode-chrome-debug">extension</a> open the prompt in VSCode with <code>command + shift + p</code> and type:</p>
<pre><code>&gt; install extension</code></pre>
<p>hit enter and then type:</p>
<pre><code>debugger for chrome</code></pre>
<p>Then just click on the result to install the extension. Restart VSCode when you are prompted.</p>
<p>After installing the extension, we need to update or create a <code>launch.json</code> file for debugging. You can create one in the <code>.vscode</code> folder. After you created the file, put in the following:</p>
<pre><code>{
  &quot;version&quot;: &quot;0.1.0&quot;,
  &quot;configurations&quot;: [
    {
      &quot;name&quot;: &quot;Launch Chrome Debugger&quot;,
      &quot;type&quot;: &quot;chrome&quot;,
      &quot;request&quot;: &quot;launch&quot;,
      &quot;url&quot;: &quot;http://localhost:8080&quot;,
      &quot;sourceMaps&quot;: true,
      &quot;webRoot&quot;: &quot;.&quot;,
      &quot;runtimeExecutable&quot;: &quot;/Applications/Google Chrome.app/Contents/MacOS/Google Chrome&quot;,
      &quot;runtimeArgs&quot;: [&quot;--remote-debugging-port=9222&quot;, &quot;--incognito&quot;]
    }
  ]
}</code></pre>
<p><strong>Notes:</strong></p>
<ul>
<li><p>Depending on your platform you need to change the <code>runtimeExecutable</code> path to Chrome's executable path. After configuring the debugger you need to have a server running serving the app. You can change the <code>url</code> value accordingly. Also make sure that the <code>webRoot</code> path is set to the root of your web server.</p></li>
<li><p>After that it is a good idea to close all the instances of chrome. Then, put a breakpoint in your code and run the debugger. If everything is set up correctly, you should see an instance of chrome running in incognito mode. To trigger the breakpoint, just reload the page and you should be able to see the debugger paused at the breakpoint.</p></li>
<li><p>Also make sure that you have the compiler running so that you can use the JavaScript output and the sourcemaps to use the debugger. See the TypeScript and VSCode set up for more details.</p></li>
</ul>
</div>
</div>
<div id="typescript-crash-course" class="section level1">
<h1>TypeScript Crash-course</h1>
<p>In this chapter we will quickly go through the most important concepts in TypeScript so that you can have a better understanding of Angular code that you will write. Knowing TypeScript definitely helps to understand Angular, but again it is not a requirement. The project files for this chapter are in <a href="https://github.com/st32lth/angular2-intro/tree/master/project-files/typescript"><strong><code>angular2-intro/project-files/typescript</code></strong></a>.</p>
<div id="typescript-basics" class="section level2">
<h2>TypeScript Basics</h2>
<ul>
<li><p>TypeScript is a superset of JavaScript with additional features, among which optional types is the most notable. This means that any valid JavaScript code (ES 2015/2016...) is valid TypeScript code. You can basically change the extension of the file to <code>.ts</code> and compile it with the the TypeScript compiler.</p></li>
<li><p>TypeScript defines 7 primary types:</p>
<ul>
<li>boolean: <code>var isDone: boolean = false;</code></li>
<li>number: <code>var height: number = 6;</code></li>
<li>string: <code>var name: string = &quot;bob&quot;;</code></li>
<li>array: <code>var list:number[] = [1, 2, 3];</code> also <code>var list:Array&lt;number&gt; = [1, 2, 3];</code></li>
<li>enum: <code>enum Color {Red, Green, Blue};</code></li>
<li>any: <code>var notSure: any = 4;</code></li>
<li>void: <code>function hello(): void { console.log('hello'); }</code></li>
</ul></li>
</ul>
</div>
<div id="interface" class="section level2">
<h2>Interface</h2>
<ul>
<li>An Interface is defined using the <code>interface</code> keyword</li>
<li>Interfaces are used only during compilation time to check types</li>
<li>By convention, interface definitions start with an <code>I</code>, e.g. : <code>IPoint</code></li>
<li>Interfaces are used in classical object oriented programming as a design tool</li>
<li>Interfaces don't contain implementations</li>
<li>They provide definitions only</li>
<li>When an object implements an interface, it must adhere to the contract defined by the interface</li>
<li>An interface defines what properties and methods an object must implement</li>
<li>If an object implements an interface, it must adhere to the contract. If it doesn't the compiler will let us know.</li>
<li>Interfaces also define custom types</li>
</ul>
<div id="basic-interface" class="section level3">
<h3>Basic Interface</h3>
<p>Below is an example of an Interface that defines two properties and three methods that implementers should provide implementations for:</p>
<div class="sourceCode" startFrom="1"><table class="sourceCode numberLines java"><tr class="sourceCode"><td class="lineNumbers"><pre>1
2
3
4
5
6
7
8
9
10
</pre></td><td class="sourceCode"><pre><code class="sourceCode java"><span class="kw">interface</span> IMyInterface {
  <span class="co">// some properties</span>
  id: number;
  name: string;

  <span class="co">// some methods</span>
  <span class="fu">method</span>(): <span class="dt">void</span>;
  <span class="fu">methodWithReturnVal</span>():number;
  <span class="fu">sum</span>(nums: number[]):number;
}</code></pre></td></tr></table></div>
<p>Using the interface above we can create an object that adheres to the interface:</p>
<div class="sourceCode" startFrom="1"><table class="sourceCode numberLines java"><tr class="sourceCode"><td class="lineNumbers"><pre>1
2
3
4
5
6
7
8
9
10
</pre></td><td class="sourceCode"><pre><code class="sourceCode java">let myObj: IMyInterface = {
  id: <span class="dv">2</span>,
  name: &#39;some name&#39;,

  <span class="fu">method</span>() { console.<span class="fu">log</span>(&#39;hello&#39;); },
  <span class="fu">methodWithReturnVal</span> () { <span class="kw">return</span> <span class="dv">2</span>; },
  <span class="fu">sum</span>(numbers) {
    <span class="kw">return</span> numbers.<span class="fu">reduce</span>( (a,b) =&gt; { <span class="kw">return</span> a + b } );
  }
};</code></pre></td></tr></table></div>
<p>Notice that we had to provide values to <strong>all</strong> the properties defined by the Interface, and the implementations for <strong>all</strong> the methods defined by the Interface.</p>
<p>And then of course you can use your object methods to perform operations:</p>
<div class="sourceCode" startFrom="1"><table class="sourceCode numberLines java"><tr class="sourceCode"><td class="lineNumbers"><pre>1
</pre></td><td class="sourceCode"><pre><code class="sourceCode java">let sum = myObj.<span class="fu">sum</span>([<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>]); <span class="co">// -&gt; 15</span></code></pre></td></tr></table></div>
</div>
<div id="classes-as-interfaces" class="section level3">
<h3>Classes as Interfaces</h3>
<p>Because classes define types as well, they can also be used as interfaces. If you have an interface you can extend it with a class for example:</p>
<div class="sourceCode" startFrom="1"><table class="sourceCode numberLines java"><tr class="sourceCode"><td class="lineNumbers"><pre>1
2
3
4
5
6
7
8
9
</pre></td><td class="sourceCode"><pre><code class="sourceCode java"><span class="kw">class</span> Point {
  x: number;
  y: number;
}
<span class="kw">interface</span> Point3d <span class="kw">extends</span> Point {
  z: number;
}
<span class="dt">const</span> point3d: Point3d = {x: <span class="dv">1</span>, y: <span class="dv">2</span>, z: <span class="dv">3</span>};
console.<span class="fu">log</span>(point3d.<span class="fu">x</span>); <span class="co">// -&gt; 1</span></code></pre></td></tr></table></div>
<p>First we are defining a class called <code>Point</code> that defines two fields. Then we define an interface called <code>Point3d</code> that extends the <code>Point</code> by adding a third field. An then we create a point of type <code>point3d</code> and assign a value to it. We read the value and it outputs <code>1</code>.</p>
</div>
</div>
<div id="classes" class="section level2">
<h2>Classes</h2>
<ul>
<li>Classes are heavily used in classical object oriented programming</li>
<li>It defines what an object is and what it can do</li>
<li>A class is defined using the <code>class</code> keyword followed by a name</li>
<li>By convention, the name of the class start with an uppercase letter</li>
<li>A class can be used to create multiple objects (instances) of the same class</li>
<li>An object is created from a class using the <code>new</code> keyword</li>
<li>A class can have a <code>constructor</code> which is called when an object is made from the class</li>
<li>Properties of a class are called instance variables and its functions are called the class methods</li>
<li>Access modifiers can be used to make them public or private</li>
<li>The instance variables are attached to the instance itself but not the prototype</li>
<li>Methods however are attached to the prototype object as opposed to the instance itself</li>
<li>Classes can inherit functionality from other classes, but you should <a href="https://medium.com/javascript-scene/the-two-pillars-of-javascript-ee6f3281e7f3#.oc5pdevwh">favor composition over inheritance</a> or make sure you know <a href="https://medium.com/@dtinth/es6-class-classical-inheritance-20f4726f4c4#.xdif2m42e">when to use it</a></li>
<li>Classes can implement interfaces</li>
</ul>
<p>Let's make a class definition for a car and incrementally add more things to it. The project files for this section are in <a href="https://github.com/st32lth/angular2-intro/tree/master/project-files/typescript/classes/basic-class"><strong><code>angular2-intro/project-files/typescript/classes/basic-class</code></strong></a>.</p>
<div id="adding-an-instance-variable" class="section level3">
<h3>Adding an Instance Variable</h3>
<p>The <code>Car</code> class definition can be very simple and can define only a single instance variable that all cars can have:</p>
<div class="sourceCode" startFrom="1"><table class="sourceCode numberLines java"><tr class="sourceCode"><td class="lineNumbers"><pre>1
2
3
</pre></td><td class="sourceCode"><pre><code class="sourceCode java"><span class="kw">class</span> Car {
  distance: number;
}</code></pre></td></tr></table></div>
<ul>
<li><code>Car</code> is the name of the class, which also defines the custom type <code>Car</code></li>
<li><code>distance</code> is a property that tracks the distance that car has traveled</li>
<li>Distance is of type <code>number</code> and only accepts <code>number</code> type.</li>
</ul>
<p>Now that we have the definition for a car, we can create a car from the definition:</p>
<div class="sourceCode" startFrom="1"><table class="sourceCode numberLines java"><tr class="sourceCode"><td class="lineNumbers"><pre>1
2
</pre></td><td class="sourceCode"><pre><code class="sourceCode java">let myCar:Car = <span class="kw">new</span> <span class="fu">Car</span>();
myCar.<span class="fu">distance</span> = <span class="dv">0</span>;</code></pre></td></tr></table></div>
<ul>
<li><code>myCar:Car</code> means that <code>myCar</code> is of type <code>Car</code></li>
<li><code>new Car()</code> creates an instance from the <code>Car</code> definition.</li>
<li><code>myCar.distance = 0</code> sets the initial value of the <code>distance</code> to 0 for the newly created <code>car</code></li>
</ul>
</div>
<div id="adding-a-method" class="section level3">
<h3>Adding a Method</h3>
<p>So far our car doesn't have any definitions for any actions. Let's define a <code>move</code> method that all the cars can have:</p>
<div class="sourceCode" startFrom="1"><table class="sourceCode numberLines java"><tr class="sourceCode"><td class="lineNumbers"><pre>1
2
3
4
5
6
</pre></td><td class="sourceCode"><pre><code class="sourceCode java"><span class="kw">class</span> Car {
  distance: number;
  <span class="fu">move</span>():<span class="dt">void</span> {
    <span class="kw">this</span>.<span class="fu">distance</span> += <span class="dv">1</span>;
  }
}</code></pre></td></tr></table></div>
<ul>
<li><code>move():void</code> means that <code>move</code> is a method that does not return any value, hence <code>void</code>.</li>
<li>The body of the method is defined in <code>{ }</code></li>
<li><code>this</code> refers to the instance, therefore <code>this.distance</code> points to the <code>distance</code> property defined on the car instance.</li>
<li>Now you can call the <code>move</code> method on the car instance to increment the <code>distance</code> value by 1:</li>
</ul>
<div class="sourceCode" startFrom="1"><table class="sourceCode numberLines java"><tr class="sourceCode"><td class="lineNumbers"><pre>1
2
</pre></td><td class="sourceCode"><pre><code class="sourceCode java">myCar.<span class="fu">move</span>();
console.<span class="fu">log</span>(myCar.<span class="fu">distance</span>) <span class="co">// -&gt; 1</span></code></pre></td></tr></table></div>
</div>
<div id="using-access-modifiers" class="section level3">
<h3>Using Access Modifiers</h3>
<p>If you wanted to tell the compiler that the <code>distance</code> variable is private and can only be used by the object itself, you can use the <code>private</code> modifier before the name of the property:</p>
<div class="sourceCode" startFrom="1"><table class="sourceCode numberLines java"><tr class="sourceCode"><td class="lineNumbers"><pre>1
2
3
4
5
6
7
</pre></td><td class="sourceCode"><pre><code class="sourceCode java"><span class="kw">class</span> Car {
  <span class="kw">private</span> distance: number;
  <span class="fu">constructor</span> () {
    ...
  }
  ...
}</code></pre></td></tr></table></div>
<ul>
<li><p>There are 3 main access modifiers in TypeScript: <code>private</code>, <code>public</code>, and <code>protected</code>:</p></li>
<li><code>private</code> modifier means that the property or the method is only defined inside the class only.</li>
<li><code>protected</code> modifier means that the property or the method is only accessible inside the class and the classes derived from the class.</li>
<li><p><code>public</code> is the default modifier which means the property or the method is the accessible everywhere and can be accessed by anyone.</p></li>
</ul>
</div>
<div id="adding-a-constructor" class="section level3">
<h3>Adding a constructor</h3>
<p>A <code>constructor</code> is a special method that gets called when an instance is created from a class. A class may contain at most one constructor declaration. If a class contains no constructor declaration, an automatic constructor is provided.</p>
<p>Let's add a constructor to the <code>Car</code> class that initializes the <code>distance</code> value to 0. This means that all the cars that are crated from this class, will have their <code>distance</code> set to 0 automatically:</p>
<div class="sourceCode" startFrom="1"><table class="sourceCode numberLines java"><tr class="sourceCode"><td class="lineNumbers"><pre>1
2
3
4
5
6
7
8
9
</pre></td><td class="sourceCode"><pre><code class="sourceCode java"><span class="kw">class</span> Car {
  distance: number;
  <span class="fu">constructor</span> () {
    <span class="kw">this</span>.<span class="fu">distance</span> = <span class="dv">0</span>;
  }
  <span class="fu">move</span>():<span class="dt">void</span> {
    <span class="kw">this</span>.<span class="fu">distance</span> += <span class="dv">1</span>;
  }
}</code></pre></td></tr></table></div>
<ul>
<li><code>constructor()</code> is called automatically when a new car is created</li>
<li>Parameters are passed to the constructor in the <code>()</code></li>
<li>The body of the constructor is defined in the <code>{ }</code></li>
</ul>
<p>Now, let's customize the car's constructor to accept <code>distance</code> as a parameter:</p>
<div class="sourceCode" startFrom="1"><table class="sourceCode numberLines java"><tr class="sourceCode"><td class="lineNumbers"><pre>1
2
3
4
5
6
</pre></td><td class="sourceCode"><pre><code class="sourceCode java"><span class="kw">class</span> Car {
  <span class="kw">private</span> distance: number;
  <span class="fu">constructor</span> (distance) {
    <span class="kw">this</span>.<span class="fu">distance</span> = distance;
  }
}</code></pre></td></tr></table></div>
<ul>
<li>On line 3 we are passing distance as a parameter. This means that when a new instance is created, a value should be passed in to set the distance of the car.</li>
<li>On line 4 we are assigning the value of distance to the value that is passed in</li>
</ul>
<p>This pattern is so common that TypeScript has a shorthand for it:</p>
<div class="sourceCode" startFrom="1"><table class="sourceCode numberLines java"><tr class="sourceCode"><td class="lineNumbers"><pre>1
2
3
4
</pre></td><td class="sourceCode"><pre><code class="sourceCode java"><span class="kw">class</span> Car {
  <span class="fu">constructor</span> (<span class="kw">private</span> distance) {
  }
}</code></pre></td></tr></table></div>
<p>Note that the only thing that we had to do was to add <code>private distance</code> in the constructor parameter and remove the <code>this.distance</code> and <code>distance: number</code>. TypeScript will automatically generate that. Below is the JavaScript outputed by TypeScript:</p>
<div class="sourceCode" startFrom="1"><table class="sourceCode numberLines javascript"><tr class="sourceCode"><td class="lineNumbers"><pre>1
2
3
4
5
6
</pre></td><td class="sourceCode"><pre><code class="sourceCode javascript"><span class="kw">var</span> Car <span class="op">=</span> (<span class="kw">function</span> () <span class="op">{</span>
  <span class="kw">function</span> <span class="at">Car</span>(distance) <span class="op">{</span>
    <span class="kw">this</span>.<span class="at">distance</span> <span class="op">=</span> distance<span class="op">;</span>
  <span class="op">}</span>
  <span class="cf">return</span> Car<span class="op">;</span>
<span class="op">}</span>)()<span class="op">;</span></code></pre></td></tr></table></div>
<p>Now that our car expects a <code>distance</code> we have to always supply a value for the distance when creating a car. You can define default values if you want so that the car is instantiated with a default value for the distance if none is given:</p>
<div class="sourceCode" startFrom="1"><table class="sourceCode numberLines java"><tr class="sourceCode"><td class="lineNumbers"><pre>1
2
3
4
5
</pre></td><td class="sourceCode"><pre><code class="sourceCode java"><span class="kw">class</span> Car {
  <span class="fu">constructor</span> (<span class="kw">private</span> distance = <span class="dv">0</span>) {
  }
  <span class="fu">getDistance</span>():number { <span class="kw">return</span> <span class="kw">this</span>.<span class="fu">distance</span>; }
}</code></pre></td></tr></table></div>
<p>Now if I forget to pass a value for the <code>distance</code>, it is going to be set to zero by default:</p>
<div class="sourceCode" startFrom="1"><table class="sourceCode numberLines java"><tr class="sourceCode"><td class="lineNumbers"><pre>1
2
</pre></td><td class="sourceCode"><pre><code class="sourceCode java"><span class="dt">const</span> mycar = <span class="kw">new</span> <span class="fu">Car</span>();
console.<span class="fu">log</span>(mycar.<span class="fu">getDistance</span>()); <span class="co">//-&gt; 0</span></code></pre></td></tr></table></div>
<p>Note that if you pass a value, it will override the default value:</p>
<div class="sourceCode" startFrom="1"><table class="sourceCode numberLines java"><tr class="sourceCode"><td class="lineNumbers"><pre>1
2
</pre></td><td class="sourceCode"><pre><code class="sourceCode java"><span class="dt">const</span> mycar = <span class="kw">new</span> <span class="fu">Car</span>(<span class="dv">5</span>);
console.<span class="fu">log</span>(mycar.<span class="fu">getDistance</span>()); <span class="co">//-&gt; 5</span></code></pre></td></tr></table></div>
</div>
<div id="setters-and-getters-accessors" class="section level3">
<h3>Setters and Getters (Accessors)</h3>
<p>It is a very common pattern to have setters and getters for properties of a class. TypeScript provides a very simple syntax to achieve that. Let's take our example above and add a setter and getter for the distance property. But before that we are going to rename <code>distance</code> to <code>_distance</code> to make it explicit that it is private. It is not required but it is a common pattern to prefix private properties with an underscore.</p>
<div class="sourceCode" startFrom="1"><table class="sourceCode numberLines java"><tr class="sourceCode"><td class="lineNumbers"><pre>1
2
3
4
</pre></td><td class="sourceCode"><pre><code class="sourceCode java"><span class="kw">class</span> Car {
  <span class="fu">constructor</span> (<span class="kw">private</span> _distance = <span class="dv">0</span>) {}
  <span class="fu">getDistance</span>():number { <span class="kw">return</span> <span class="kw">this</span>.<span class="fu">_distance</span>; }
}</code></pre></td></tr></table></div>
<p>In order to create the getter method, we are going to use the <code>get</code> keyword and the name for the property followed by <code>()</code>:</p>
<div class="sourceCode" startFrom="1"><table class="sourceCode numberLines java"><tr class="sourceCode"><td class="lineNumbers"><pre>1
2
3
4
</pre></td><td class="sourceCode"><pre><code class="sourceCode java"><span class="kw">class</span> Car {
  <span class="fu">constructor</span> (<span class="kw">private</span> _distance = <span class="dv">0</span>) {}
  get <span class="fu">distance</span>() { <span class="kw">return</span> <span class="kw">this</span>.<span class="fu">_distance</span>; }
}</code></pre></td></tr></table></div>
<p>Now we can get the value of <code>distance</code>:</p>
<div class="sourceCode" startFrom="1"><table class="sourceCode numberLines java"><tr class="sourceCode"><td class="lineNumbers"><pre>1
2
</pre></td><td class="sourceCode"><pre><code class="sourceCode java"><span class="dt">const</span> car2 = <span class="kw">new</span> <span class="fu">Car</span>(<span class="dv">5</span>);
console.<span class="fu">log</span>(car2.<span class="fu">distance</span>) <span class="co">//-&gt; 5</span></code></pre></td></tr></table></div>
<p>Note on line 2 that we didn't call a function. Behind the scenes, TypeScript creates a property for us, that's why it is not a method. Below is the relevant generated JavaScript:</p>
<div class="sourceCode" startFrom="1"><table class="sourceCode numberLines javascript"><tr class="sourceCode"><td class="lineNumbers"><pre>1
2
3
4
5
</pre></td><td class="sourceCode"><pre><code class="sourceCode javascript"><span class="va">Object</span>.<span class="at">defineProperty</span>(<span class="va">Car</span>.<span class="at">prototype</span><span class="op">,</span> <span class="st">&quot;distance&quot;</span><span class="op">,</span> <span class="op">{</span>
  <span class="dt">get</span><span class="op">:</span> <span class="kw">function</span> () <span class="op">{</span> <span class="cf">return</span> <span class="kw">this</span>.<span class="at">_distance</span><span class="op">;</span> <span class="op">},</span>
  <span class="dt">enumerable</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span>
  <span class="dt">configurable</span><span class="op">:</span> <span class="kw">true</span>
<span class="op">}</span>)<span class="op">;</span></code></pre></td></tr></table></div>
<p>JavaScript behind the scenes calls the get function for you to get the value, and that's why we simply did <code>car2.distance</code> as opposed to <code>car2.distance()</code>. For more information about <code>Object.defineProperty</code> checkout the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty">MDN</a> docs.</p>
<p>Similar to the getter, we can define a setter as well:</p>
<div class="sourceCode" startFrom="1"><table class="sourceCode numberLines java"><tr class="sourceCode"><td class="lineNumbers"><pre>1
2
3
4
5
</pre></td><td class="sourceCode"><pre><code class="sourceCode java"><span class="kw">class</span> Car {
  <span class="fu">constructor</span> (<span class="kw">private</span> _distance = <span class="dv">0</span>) {}
  get <span class="fu">distance</span>() { <span class="kw">return</span> <span class="kw">this</span>.<span class="fu">_distance</span>; }
  set <span class="fu">distance</span>(newDistance: number) { <span class="kw">this</span>.<span class="fu">_distance</span> = newDistance; }
}</code></pre></td></tr></table></div>
<p>Now we can both get and set the distance value:</p>
<div class="sourceCode" startFrom="1"><table class="sourceCode numberLines java"><tr class="sourceCode"><td class="lineNumbers"><pre>1
2
3
4
5
</pre></td><td class="sourceCode"><pre><code class="sourceCode java"><span class="dt">const</span> coolCar = <span class="kw">new</span> <span class="fu">Car</span>();
console.<span class="fu">log</span>(coolCar.<span class="fu">distance</span>); <span class="co">// -&gt; 0</span>

coolCar.<span class="fu">distance</span> = <span class="dv">55</span>;
console.<span class="fu">log</span>(coolCar.<span class="fu">distance</span>); <span class="co">// -&gt; 55</span></code></pre></td></tr></table></div>
<p>Note that if we take out the setter, we won't be able to assign a new value to <code>distance</code>.</p>
</div>
<div id="static-methods-and-properties" class="section level3">
<h3>Static Methods and Properties</h3>
<p>Static methods and properties belong to the class but not the instances. For example, the <code>Array.isArray</code> method is only accessible through the <code>Array</code> but not an instance of an array:</p>
<div class="sourceCode" startFrom="1"><table class="sourceCode numberLines javascript"><tr class="sourceCode"><td class="lineNumbers"><pre>1
2
3
</pre></td><td class="sourceCode"><pre><code class="sourceCode javascript"><span class="kw">var</span> x <span class="op">=</span> []<span class="op">;</span>
<span class="va">x</span>.<span class="at">isArray</span> <span class="co">// -&gt; undefined</span>
<span class="va">Array</span>.<span class="at">isArray</span>(x) <span class="co">//-&gt; true</span></code></pre></td></tr></table></div>
<ul>
<li>On line 2 we are trying to access the <code>isArray</code> method, but obviously it is not defined because <code>isArray</code> is a static method.</li>
<li>On line three we are calling the static <code>isArray</code> method from <code>Array</code> and we can check if <code>x</code> is an array.</li>
</ul>
<p>If you look at the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/isArray">Array</a> documentation you can see that methods and properties are either defined on the <code>Array.prototype</code> or <code>Array</code>:</p>
<ul>
<li><code>Array.prototype.x</code>: makes <code>x</code> available to all the instances of <code>Array</code></li>
<li><code>Array.x</code>: <code>x</code> is static and only available through <code>Array</code>.</li>
</ul>
<p>Now that we have some context, let's see how you can define static methods and properties in TypeScript. Consider the code below:</p>
<div class="sourceCode" startFrom="1"><table class="sourceCode numberLines java"><tr class="sourceCode"><td class="lineNumbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="sourceCode"><pre><code class="sourceCode java"><span class="kw">class</span> Car {
  <span class="dt">static</span> controls: {isAuto: <span class="dt">boolean</span> } = {
    isAuto: <span class="kw">true</span>
  };
  <span class="dt">static</span> <span class="fu">isAuto</span>():<span class="dt">boolean</span> {
    <span class="kw">return</span> Car.<span class="fu">controls</span>.<span class="fu">isAuto</span>;
  }
  <span class="fu">constructor</span> (<span class="kw">private</span> _distance = <span class="dv">0</span>) {}
  get <span class="fu">distance</span>() { <span class="kw">return</span> <span class="kw">this</span>.<span class="fu">_distance</span>; }
}

console.<span class="fu">log</span>(Car.<span class="fu">controls</span>); <span class="co">// -&gt; { isAuto: true }</span>
console.<span class="fu">log</span>(Car.<span class="fu">isAuto</span>()); <span class="co">// -&gt; true</span></code></pre></td></tr></table></div>
<ul>
<li>On line 2 we are defining a static property called <code>controls</code> using the <code>static</code> modifier. Then we specify the form and then assign a value for it.</li>
<li>On line 5 we are defining a static method called <code>isAuto</code> using the the <code>static</code> modifier. This method simply returns the value of <code>isAuto</code> from the static <code>control</code> object. Not that we get access to the class using the name of the class as opposed to using <code>this</code>. i.e. <code>return Car.controls.isAuto</code></li>
</ul>
</div>
<div id="implementing-an-interface" class="section level3">
<h3>Implementing an Interface</h3>
<p>Classes can implement one or multiple interfaces. We can make the <code>Car</code> class implement two interfaces:</p>
<div class="sourceCode" startFrom="1"><table class="sourceCode numberLines java"><tr class="sourceCode"><td class="lineNumbers"><pre>1
2
3
4
5
6
</pre></td><td class="sourceCode"><pre><code class="sourceCode java"><span class="kw">interface</span> ICarProps {
  distance: number;
}
<span class="kw">interface</span> ICarMethods {
  <span class="fu">move</span>():<span class="dt">void</span>;
}</code></pre></td></tr></table></div>
<p>Making the <code>Car</code> class implement the interfaces:</p>
<div class="sourceCode" startFrom="1"><table class="sourceCode numberLines java"><tr class="sourceCode"><td class="lineNumbers"><pre>1
2
3
4
5
6
7
8
9
</pre></td><td class="sourceCode"><pre><code class="sourceCode java"><span class="kw">class</span> Car <span class="kw">implements</span> ICarProps, ICarMethods {
  distance: number;
  <span class="fu">constructor</span> () {
    <span class="kw">this</span>.<span class="fu">distance</span> = <span class="dv">5</span>;
  };
  <span class="fu">move</span>():<span class="dt">void</span> {
    <span class="kw">this</span>.<span class="fu">distance</span> += <span class="dv">1</span>;
  };
}</code></pre></td></tr></table></div>
<p>The above example is silly, but it shows the point that a class can implement one or more interfaces. Now if the class does not provide implementations for any of the interfaces, the compiler will complain. For example, if we leave out the <code>distance</code> instance variable, the compiler will print out the following error:</p>
<blockquote>
<p>error TS2420: Class 'Car' incorrectly implements interface 'ICarProps'. Property 'distance' is missing in type 'Car'.</p>
</blockquote>
</div>
<div id="inheritance" class="section level3">
<h3>Inheritance</h3>
<p>In Object-oriented programming, a class can inherit from another class which helps to define shared attributes and methods among objects. Although this pattern is very useful, it should be used cautiously as it can lead to code that is hard to maintain. You can learn more about classical inheritance and prototypical inheritance by watching Eric Elliot's <a href="https://www.youtube.com/watch?v=lKCCZTUx0sI">talk</a> at O'Reilly's Fluent Conference. The project files for this section are in <a href="https://github.com/st32lth/angular2-intro/tree/master/project-files/typescript/classes/inheritance"><strong><code>angular2-intro/project-files/typescript/classes/inheritance</code></strong></a>.</p>
<p>Let's get started by creating a base class called <code>Vehicle</code>. This class is going to be the base class for other classes that we create later.</p>
<div class="sourceCode" startFrom="1"><table class="sourceCode numberLines java"><tr class="sourceCode"><td class="lineNumbers"><pre>1
2
3
4
5
6
7
8
9
10
11
</pre></td><td class="sourceCode"><pre><code class="sourceCode java"><span class="co">// Vehicle.ts</span>
export <span class="kw">class</span> Vehicle {
  <span class="fu">constructor</span>( <span class="kw">private</span> _name: string = &#39;Vehicle&#39;,
               <span class="kw">private</span> _distance: number = <span class="dv">0</span> ) { }
  get <span class="fu">distance</span>(): number { <span class="kw">return</span> <span class="kw">this</span>.<span class="fu">_distance</span>; }
  set <span class="fu">distance</span>(newDistance: number) { <span class="kw">this</span>.<span class="fu">_distance</span> = newDistance; }
  get <span class="fu">name</span>(): string { <span class="kw">return</span> <span class="kw">this</span>.<span class="fu">_name</span>;}
  set <span class="fu">name</span>(newName: string) { <span class="kw">this</span>.<span class="fu">_name</span> = newName; }
  <span class="fu">move</span>() { <span class="kw">this</span>.<span class="fu">distance</span> += <span class="dv">1</span> }
  <span class="fu">toString</span>() { <span class="kw">return</span> <span class="kw">this</span>.<span class="fu">_name</span>; }
}</code></pre></td></tr></table></div>
<p>There is nothing special in this class. We are just creating a class that has two private properties (name, distance) and we are creating the setters and getters for them. Additionally, we are defining the <code>toString</code> method that JavaScript internally calls in &quot;textual contexts&quot;. The constructor is the most notable of all the other methods:</p>
<ul>
<li>It sets the <code>name</code> property to &quot;Vehicle&quot; for all the instances</li>
<li>It also sets the <code>distance</code> property to 0.</li>
</ul>
<p>This means that when a class extends the <code>Vehicle</code> class, it will have to call the constructor of <code>Vehicle</code> using the <code>super</code> keyword. Let's do that now by creating two classes called <code>Car</code> and <code>Truck</code> that inherit from the <code>Vehicle</code> class:</p>
<p><strong><code>cars.ts</code></strong></p>
<div class="sourceCode" startFrom="1"><table class="sourceCode numberLines java"><tr class="sourceCode"><td class="lineNumbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="sourceCode"><pre><code class="sourceCode java"><span class="kw">import {Vehicle} from &#39;./vehicle&#39;;</span>
export <span class="kw">class</span> Car <span class="kw">extends</span> Vehicle {
  <span class="fu">constructor</span>(name?: string) {
    <span class="kw">super</span>();
    <span class="kw">this</span>.<span class="fu">name</span> = name || &#39;Car&#39;;
  }
}
export <span class="kw">class</span> Truck <span class="kw">extends</span> Vehicle {
  <span class="fu">constructor</span>(name?: string) {
    <span class="kw">super</span>();
    <span class="kw">this</span>.<span class="fu">name</span> = name || &#39;Truck&#39;;
  }
}</code></pre></td></tr></table></div>
<ul>
<li>The <code>Car</code> class and the <code>Truck</code> class both look almost identical. They both inherit from the <code>Vehicle</code> using the <code>extends</code> keyword.</li>
<li>They both call the <code>Vehicle</code>'s constructor in their own constructor method before implementing their own: <code>constructor(name?: string) { super(); }</code></li>
<li>They both take an optional <code>name</code> property to set the name of the vehicle. If not name is provided, it will be set to either 'Car' or 'Truck'</li>
</ul>
<p>Now let's create the <code>main</code> file and run the file:</p>
<div class="sourceCode" startFrom="1"><table class="sourceCode numberLines java"><tr class="sourceCode"><td class="lineNumbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre></td><td class="sourceCode"><pre><code class="sourceCode java"><span class="kw">import {Car, Truck} from &#39;./cars&#39;;</span>

<span class="co">/**</span>
<span class="co"> * Creating a new car from `Car`</span>
<span class="co"> */</span>
<span class="dt">const</span> car = <span class="kw">new</span> <span class="fu">Car</span>();
console.<span class="fu">log</span>(car.<span class="fu">name</span>);
car.<span class="fu">distance</span> = <span class="dv">5</span>;
car.<span class="fu">move</span>();
car.<span class="fu">move</span>();
console.<span class="fu">log</span>(car.<span class="fu">distance</span>);
<span class="co">/**</span>
<span class="co"> * Creating a new Truck.</span>
<span class="co"> */</span>
<span class="dt">const</span> truck = <span class="kw">new</span> <span class="fu">Truck</span>();
console.<span class="fu">log</span>(truck.<span class="fu">name</span>);</code></pre></td></tr></table></div>
<ul>
<li>On line 1 we are importing the <code>Car</code> and the <code>Truck</code> class.</li>
<li>and then we create a <code>Car</code> and <code>Truck</code> instance and log their names and distance to the console.</li>
</ul>
<p>Run the build task (command + shift + b) and run the file (F5) and you should see the output:</p>
<pre><code>node --debug-brk=7394 --nolazy output/main.js
Debugger listening on port 7394
Car
7
Truck</code></pre>
<p>You can play around with the code above an try passing a string when instantiating a <code>Car</code> or a <code>Truck</code> to see the name change.</p>
<p><strong>TODO</strong></p>
<ul>
<li><code>constructor overloading</code></li>
</ul>
</div>
<div id="class-decorators" class="section level3">
<h3>Class Decorators</h3>
<p>There are different types of decorators in TypeScript. In this section we are going to focus on Class Decorators.</p>
<p><strong>TODO</strong></p>
<p><code>add content</code></p>
</div>
</div>
<div id="modules" class="section level2">
<h2>Modules</h2>
<ul>
<li>In TypeScript you can use modules to organize your code, avoid polluting the global space, and expose functionalities for others to use.</li>
<li>Multiple modules can be defined in the same file. However, it makes more sense to keep on module per file</li>
<li>If you want, you can split a single module across multiple files</li>
<li>If you decide to split a module across different files, this is how you would do it:
<ul>
<li>Create the module file: <code>mymodule.ts</code> and declare your module there: <code>module MyModule {}</code></li>
<li>Create another file: <code>mymodule.ext1.ts</code> and on top of the file add: <code>/// &lt;reference path=&quot;mymodule.ts&quot; /&gt;</code>. Then in the file, you can use the same name of the module and add more stuff to it: <code>module MyModule { // other stuff... }</code></li>
<li>Then in your main file, you need two things on top of the file:
<ul>
<li><code>/// &lt;reference path=&quot;mymodule.ts&quot; /&gt;</code></li>
<li><code>/// &lt;reference path=&quot;mymodule.ext1.ts&quot; /&gt;</code></li>
</ul></li>
<li>Then, you can use the name of your module to refer to the symbols defined: <code>MyModule.something</code>, <code>MyModule.somethingElse</code></li>
</ul></li>
<li>TypeScript has two system: one used internally and the other used externally</li>
<li>External modules are used if your app uses CommonJS or AMD modules. Otherwise, you can use TypeScript's internal module system</li>
<li>Using TypeScript's internal module system, you can:
<ul>
<li>use the <code>module</code> keyword to define a module: <code>module MyModule { ... }</code></li>
<li>split modules into different files that contribute to a single module</li>
<li>use the <code>/// &lt;reference path=&quot;File.ts&quot; /&gt;</code> tag to tell the compiler how files are related to each other when modules are split across files</li>
</ul></li>
<li>Using TypeScript's external module system:
<ul>
<li>you cannot use the <code>module</code> keyword. The <code>module</code> keyword is used only by the internal module system.</li>
<li>instead of the <code>reference</code> tag, you can use the <code>import</code> keyword to define the relationship between modules</li>
<li>you can import symbols using the file name: <code>import mymodule = require('mymodule')</code></li>
</ul></li>
</ul>
<p>The project files for this chapter are in <a href="https://github.com/st32lth/angular2-intro/tree/master/project-files/typescript/modules"><strong><code>angular2-intro/project-files/typescript/modules</code></strong></a>.</p>
<div id="simple-module" class="section level3">
<h3>Simple Module</h3>
<p>Let's create a simple module that contains two classes. The first class is a vehicle class and the second is a car class that inherits from the vehicle class. Then we are going to expose the car class to the outside world and import it from another file. The project files for this section are in <a href="https://github.com/st32lth/angular2-intro/tree/master/project-files/typescript/modules/basic-module"><strong><code>angular2-intro/project-files/typescript/modules/basic-module</code></strong></a>.</p>
<p>First, create the <code>main.ts</code> file and copy paste the following:</p>
<p><strong><code>main.ts</code></strong></p>
<div class="sourceCode" startFrom="1"><table class="sourceCode numberLines java"><tr class="sourceCode"><td class="lineNumbers"><pre>1
2
3
4
5
6
7
8
</pre></td><td class="sourceCode"><pre><code class="sourceCode java">module MyModule {
  <span class="kw">class</span> Vehicle {
    <span class="fu">constructor</span> (<span class="kw">public</span> name: string = &#39;Vehicle&#39;, <span class="kw">private</span> _distance: number = <span class="dv">0</span>) {}
    get <span class="fu">distance</span>():number { <span class="kw">return</span> <span class="kw">this</span>.<span class="fu">_distance</span>; }
    set <span class="fu">distance</span>(newDistance: number) { <span class="kw">this</span>.<span class="fu">_distance</span> = newDistance; }
    <span class="fu">move</span>() { <span class="kw">this</span>.<span class="fu">distance</span> += <span class="dv">1</span> }
  }
}</code></pre></td></tr></table></div>
<ul>
<li>On line 1 we are defining the module called <code>MyModule</code>.</li>
<li>Inside this module we have defined a class called <code>Vehicle</code> that has a distance property and a setter and getter.</li>
</ul>
<p>Now we want to create a class and export it so that it can be imported by others:</p>
<p><strong><code>main.ts</code></strong></p>
<div class="sourceCode" startFrom="1"><table class="sourceCode numberLines java"><tr class="sourceCode"><td class="lineNumbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre></td><td class="sourceCode"><pre><code class="sourceCode java">module MyModule {
  <span class="kw">class</span> Vehicle {
    <span class="fu">constructor</span> (<span class="kw">public</span> name: string = &#39;Vehicle&#39;, <span class="kw">private</span> _distance: number = <span class="dv">0</span>) {}
    get <span class="fu">distance</span>():number { <span class="kw">return</span> <span class="kw">this</span>.<span class="fu">_distance</span>; }
    set <span class="fu">distance</span>(newDistance: number) { <span class="kw">this</span>.<span class="fu">_distance</span> = newDistance; }
    <span class="fu">move</span>() { <span class="kw">this</span>.<span class="fu">distance</span> += <span class="dv">1</span> }
  }
  <span class="co">// -&gt; adding the car class</span>
  export <span class="kw">class</span> Car <span class="kw">extends</span> Vehicle {
    <span class="fu">constructor</span> (<span class="kw">public</span> name: string = &#39;Car&#39;) {
      <span class="kw">super</span>();
    }
  }
}</code></pre></td></tr></table></div>
<ul>
<li>On line 9 we are using the <code>export</code> keyword to indicate that the <code>Car</code> class is exposed and can be used by others.</li>
</ul>
<p>Now, let's create a car using the <code>Car</code> class defined in the <code>MyModule</code> module:</p>
<div class="sourceCode" startFrom="1"><table class="sourceCode numberLines java"><tr class="sourceCode"><td class="lineNumbers"><pre>1
2
</pre></td><td class="sourceCode"><pre><code class="sourceCode java"><span class="dt">const</span> mycar = <span class="kw">new</span> MyModule.<span class="fu">Car</span>(&#39;My Car&#39;);
console.<span class="fu">log</span>(mycar.<span class="fu">name</span>);</code></pre></td></tr></table></div>
<p>Note that we accessed the <code>Car</code> class using the <code>MyModule</code> symbol: <code>MyModule.Car</code>. Now we can split up the module into its own file and import it into the main file. Let's create a file called <code>MyModule.ts</code> and move the module definition to that file. Now in our main file we are just going to import the module and use the car class from it.</p>
<p><strong><code>main.ts</code></strong></p>
<div class="sourceCode" startFrom="1"><table class="sourceCode numberLines java"><tr class="sourceCode"><td class="lineNumbers"><pre>1
2
3
</pre></td><td class="sourceCode"><pre><code class="sourceCode java"><span class="co">/// &lt;reference path=&quot;MyModule.ts&quot; /&gt;</span>
<span class="dt">const</span> mycar = <span class="kw">new</span> MyModule.<span class="fu">Car</span>(&#39;My Car&#39;);
console.<span class="fu">log</span>(mycar.<span class="fu">name</span>);</code></pre></td></tr></table></div>
<p>Note that we can create an alias to the <code>MyModule</code> using <code>import AliasName = MyModule</code>. Now you can reference the module name with <code>AliasName</code>:</p>
<div class="sourceCode" startFrom="1"><table class="sourceCode numberLines java"><tr class="sourceCode"><td class="lineNumbers"><pre>1
2
3
4
</pre></td><td class="sourceCode"><pre><code class="sourceCode java"><span class="co">/// &lt;reference path=&quot;MyModule.ts&quot; /&gt;</span>
<span class="kw">import AliasName = MyModule;</span>
<span class="dt">const</span> mycar = <span class="kw">new</span> AliasName.<span class="fu">Car</span>(&#39;My Car&#39;);
console.<span class="fu">log</span>(mycar.<span class="fu">name</span>);</code></pre></td></tr></table></div>
<p>Now if we run this in debug mode, the compiler will complain that it can't find the <code>MyModule</code> reference. Because of that we need to make some changes to our config files. First, we are going to add the <code>out</code> property in the <code>tsconfig.json</code> file. This will tell the compiler to compile all the files into a single file:</p>
<pre><code>&quot;out&quot;: &quot;output/run.js&quot;,</code></pre>
<p>So our <code>tsconfig.json</code> file will look like this:</p>
<pre><code>{
  &quot;compilerOptions&quot;: {
    &quot;experimentalDecorators&quot;: true,
    &quot;emitDecoratorMetadata&quot;: true,
    &quot;module&quot;: &quot;commonjs&quot;,
    &quot;target&quot;: &quot;es5&quot;,
    &quot;sourceMap&quot;: true,
    &quot;outDir&quot;: &quot;output&quot;,
    &quot;out&quot;: &quot;output/run.js&quot;,
    &quot;watch&quot;: true
  }
}</code></pre>
<p>Now if you run the build, you should see that all the project has been compiled into <code>output/run.js</code>. In addition to the <code>tsconfig.json</code> file, we are going to update the <code>launch.json</code> file and add a new configuration field:</p>
<pre><code>{
  &quot;name&quot;: &quot;TS All Debugger&quot;,
  &quot;type&quot;: &quot;node&quot;,
  &quot;program&quot;: &quot;output/run.js&quot;,
  &quot;stopOnEntry&quot;: false,
  &quot;sourceMaps&quot;: true
}</code></pre>
<p>Now we should be able to use the debugger and put breakpoints in our TypeScript files. Select <code>TS All Debugger</code> from the debugger dropdown and run the debugger and it should stop if you put a breakpoint in any of your TypeScript files.</p>
<p><strong>NOTE</strong> Using the configuration files above we can compile all the TypeScript files into a single JavaScript file. But sometimes that is not what you want. Be aware that using the above configuration you will not get an output for each TypeScript file.</p>
</div>
<div id="splitting-internal-modules" class="section level3">
<h3>Splitting Internal Modules</h3>
<p>Internal modules in TypeScript are open ended. This means that you can define a module with the same name in different files and keep adding to it. This is also known as merging. In this section we are going to demonstrate merging multiple files that contribute to a single module called <code>Merged</code>. The project files for this section are in <a href="https://github.com/st32lth/angular2-intro/tree/master/project-files/typescript/modules/merged-module"><strong><code>angular2-intro/project-files/typescript/modules/merged-module</code></strong></a>.</p>
<p>First, we are going to make two files: <code>A.ts</code> and <code>B.ts</code>. In each file we are going to define the <code>Merged</code> module:</p>
<div class="sourceCode" startFrom="1"><table class="sourceCode numberLines java"><tr class="sourceCode"><td class="lineNumbers"><pre>1
2
3
4
5
6
7
8
9
</pre></td><td class="sourceCode"><pre><code class="sourceCode java"><span class="co">// A.ts</span>
module Merged {
  <span class="dt">const</span> name = &#39;File A&#39;; <span class="co">// not exported</span>
  export <span class="kw">class</span> Door {
    <span class="fu">constructor</span> (<span class="kw">private</span> _color = &#39;white&#39;) {}
    get <span class="fu">color</span>() { <span class="kw">return</span> <span class="kw">this</span>.<span class="fu">_color</span>; }
    set <span class="fu">color</span>(newColor) { <span class="kw">this</span>.<span class="fu">_color</span> = newColor; }
  }
}</code></pre></td></tr></table></div>
<p>and then the <code>B.ts</code> file:</p>
<div class="sourceCode" startFrom="1"><table class="sourceCode numberLines java"><tr class="sourceCode"><td class="lineNumbers"><pre>1
2
3
4
5
6
7
8
</pre></td><td class="sourceCode"><pre><code class="sourceCode java"><span class="co">// B.ts</span>
module Merged {
  <span class="dt">const</span> name = &#39;File B&#39;; <span class="co">// not exported</span>
  export <span class="kw">class</span> Car {
    <span class="fu">constructor</span>(<span class="kw">public</span> distance = <span class="dv">0</span>) {}
    <span class="fu">move</span> () {<span class="kw">this</span>.<span class="fu">distance</span> += <span class="dv">1</span>;}
  }
}</code></pre></td></tr></table></div>
<p>We just created two files called <code>A.ts</code> and <code>B.ts</code> and each file we defined the <code>Merged</code> module and added a class to each and exported it. Now we are going to make the <code>main.ts</code> file and reference these two files:</p>
<div class="sourceCode" startFrom="1"><table class="sourceCode numberLines java"><tr class="sourceCode"><td class="lineNumbers"><pre>1
2
3
</pre></td><td class="sourceCode"><pre><code class="sourceCode java"><span class="co">// main.ts</span>
<span class="co">/// &lt;reference path=&quot;./A.ts&quot; /&gt;</span>
<span class="co">/// &lt;reference path=&quot;./B.ts&quot; /&gt;</span></code></pre></td></tr></table></div>
<p>And now we can use the classes defined in the <code>Merged</code> module, that is the <code>Car</code> and the <code>Door</code> class:</p>
<div class="sourceCode" startFrom="1"><table class="sourceCode numberLines java"><tr class="sourceCode"><td class="lineNumbers"><pre>1
2
3
4
5
6
7
8
9
</pre></td><td class="sourceCode"><pre><code class="sourceCode java"><span class="co">/// &lt;reference path=&quot;./A.ts&quot; /&gt;</span>
<span class="co">/// &lt;reference path=&quot;./B.ts&quot; /&gt;</span>
<span class="dt">const</span> car: Merged.<span class="fu">Car</span> = <span class="kw">new</span> Merged.<span class="fu">Car</span>();
<span class="dt">const</span> door: Merged.<span class="fu">Door</span> = <span class="kw">new</span> Merged.<span class="fu">Door</span>();
door.<span class="fu">color</span> = &#39;blue&#39;;
car.<span class="fu">move</span>();
car.<span class="fu">move</span>();
console.<span class="fu">log</span>(car.<span class="fu">distance</span>);
console.<span class="fu">log</span>(door.<span class="fu">color</span>);</code></pre></td></tr></table></div>
<p>if you run the build task (command + shift + b) and hit F5 you should see the following output:</p>
<pre><code>node --debug-brk=19237 --nolazy output/run.js
Debugger listening on port 19237
2
blue</code></pre>
</div>
<div id="external-modules" class="section level3">
<h3>External Modules</h3>
<p>In addition to TypeScript's internal module system, you can use external modules as well. In this section we are going to demonstrate how you can use external modules in TypeScript. The project files for this section are in <a href="https://github.com/st32lth/angular2-intro/tree/master/project-files/typescript/modules/external-module"><strong><code>angular2-intro/project-files/typescript/modules/external-module</code></strong></a>.</p>
<p>Let's say I have a JavaScript Node module defined in CommonJS format in a file called <code>common.js</code>:</p>
<div class="sourceCode" startFrom="1"><table class="sourceCode numberLines javascript"><tr class="sourceCode"><td class="lineNumbers"><pre>1
2
3
4
</pre></td><td class="sourceCode"><pre><code class="sourceCode javascript"><span class="co">// common.js</span>
<span class="va">module</span>.<span class="at">exports</span> <span class="op">=</span> <span class="kw">function</span> () <span class="op">{</span>
  <span class="kw">this</span>.<span class="at">name</span> <span class="op">=</span> <span class="st">&#39;CommonJS Module&#39;</span><span class="op">;</span>
<span class="op">};</span></code></pre></td></tr></table></div>
<p>In order to import this we need to do two things: first, we need to install Node's Type Definitions. Then we need to require the module. To install Node's Type Definitions run the following the terminal in the root of your project:</p>
<pre><code>tsd install node --save</code></pre>
<p>Now you should see a folder called <code>typings</code> containing the type definitions. Now that we have Node's type definitions, let's add a reference to it on top of <code>main.ts</code>:</p>
<div class="sourceCode" startFrom="1"><table class="sourceCode numberLines java"><tr class="sourceCode"><td class="lineNumbers"><pre>1
2
</pre></td><td class="sourceCode"><pre><code class="sourceCode java"><span class="co">// main.ts</span>
<span class="co">/// &lt;reference path=&quot;./typings/node/node.d.ts&quot; /&gt;</span></code></pre></td></tr></table></div>
<p>and then we are going to require the module and log it to the console:</p>
<div class="sourceCode" startFrom="1"><table class="sourceCode numberLines java"><tr class="sourceCode"><td class="lineNumbers"><pre>1
2
3
4
</pre></td><td class="sourceCode"><pre><code class="sourceCode java"><span class="co">// main.ts</span>
<span class="co">/// &lt;reference path=&quot;./typings/node/node.d.ts&quot; /&gt;</span>
<span class="dt">const</span> common = <span class="fu">require</span>(&#39;./common&#39;);
console.<span class="fu">log</span>(<span class="fu">common</span>()); <span class="co">// --&gt; CommonJS Module</span></code></pre></td></tr></table></div>
<p>After running the build task ( command + shift + b ), and running the file (F+5) you should see the following output:</p>
<pre><code>node --debug-brk=32221 --nolazy run.js 
Debugger listening on port 32221
CommonJS Modules</code></pre>
<p><strong>Note</strong> the configuration files that we are using:</p>
<p><strong><code>tsconfig.json</code></strong></p>
<pre><code>{
  &quot;compilerOptions&quot;: {
    &quot;experimentalDecorators&quot;: true,
    &quot;emitDecoratorMetadata&quot;: true,
    &quot;module&quot;: &quot;commonjs&quot;,
    &quot;target&quot;: &quot;es5&quot;,
    &quot;sourceMap&quot;: true,
    &quot;outDir&quot;: &quot;output&quot;,
    &quot;out&quot;: &quot;run.js&quot;,
    &quot;watch&quot;: true
  }
}</code></pre>
<p><strong><code>launch.json</code></strong></p>
<pre><code>{
  &quot;version&quot;: &quot;0.1.0&quot;,
  &quot;configurations&quot;: [
    {
      &quot;name&quot;: &quot;TS All Debugger&quot;,
      &quot;type&quot;: &quot;node&quot;,
      &quot;program&quot;: &quot;./run.js&quot;,
      &quot;stopOnEntry&quot;: false,
      &quot;sourceMaps&quot;: true
    }
  ]
}</code></pre>
</div>
</div>
<div id="decorators" class="section level2">
<h2>Decorators</h2>
<ul>
<li>Decorators can be used to add additional properties and methods to existing objects.</li>
<li>Decorators are a declarative way to add metadata to code.</li>
<li>There are four decorators: ClassDecorator, PropertyDecorator, MethodDecorator, ParameterDecorator</li>
<li>TypeScript supports decorators and does not know about Angular's specific annotations.</li>
<li>Angular provides annotations that are made with decorators behind the scenes</li>
</ul>
<div id="method-decorators" class="section level3">
<h3>Method Decorators</h3>
<p>Goals: - make a method decorator called <code>log</code>. - Decorate <code>someMethod</code> in a class using <code>@log</code></p>
<div class="sourceCode" startFrom="1"><table class="sourceCode numberLines java"><tr class="sourceCode"><td class="lineNumbers"><pre>1
2
3
4
5
6
</pre></td><td class="sourceCode"><pre><code class="sourceCode java"><span class="kw">class</span> SomeClass {
  <span class="fu">@log</span>
  <span class="fu">someMethod</span>(n: number) {
    <span class="kw">return</span> n * <span class="dv">2</span>;
  }
}</code></pre></td></tr></table></div>
<p>In the usage, <code>someMethod</code> has been decorated with <code>log</code> using the <code>@</code> symbol. <code>@log</code> is decorating <code>someMethod</code> because it is placed right before the method.</p>
<ul>
<li>Decorator Implementation:</li>
</ul>
<div class="sourceCode" startFrom="1"><table class="sourceCode numberLines java"><tr class="sourceCode"><td class="lineNumbers"><pre>1
2
3
4
5
6
7
8
9
10
11
</pre></td><td class="sourceCode"><pre><code class="sourceCode java">function <span class="fu">log</span>(target: Function, key: string, value: any) {
  <span class="kw">return</span> {
    value: <span class="fu">function</span> (...<span class="fu">args</span>: any[]) {
      var a = args.<span class="fu">map</span>(a =&gt; JSON.<span class="fu">stringify</span>(a)).<span class="fu">join</span>();
      var result = value.<span class="fu">value</span>.<span class="fu">apply</span>(<span class="kw">this</span>, args);
      var r = JSON.<span class="fu">stringify</span>(result);
      console.<span class="fu">log</span>(`Call: ${key}(${a}) =&gt; ${r}`);
      <span class="kw">return</span> result;
    }
  };
}</code></pre></td></tr></table></div>
<p>A method decorators takes a 3 arguments:</p>
<ul>
<li><code>target</code>: the method being decorated.</li>
<li><code>key</code>: the name of the method being decorated.</li>
<li><code>value</code>: a property descriptor of the given property if it exists on the object, undefined otherwise. The property descriptor is obtained by invoking the <code>Object.getOwnPropertyDescriptor</code> function.</li>
</ul>
<p><strong>TODO</strong></p>
<ul>
<li>Add decorator content for each type.</li>
</ul>
</div>
</div>
</div>
<div id="angular" class="section level1">
<h1>Angular</h1>
<p>This chapter will walk you through the main concepts in Angular. We will start by looking at components, and then we move onto pipes, services, events and other concepts. By the end of the chapter you should have a basic understanding of the most important concepts in Angular.</p>
<p>The goal of this chapter is to get your feet wet without scaring you with a lot of details. Don't worry, there will be a lot coming in later chapters.</p>
<div id="project-files" class="section level2">
<h2>Project Files</h2>
<div id="running-the-project-files" class="section level3">
<h3>Running the Project Files</h3>
<p>First, make sure that you have cloned the code repo somewhere on your machine:</p>
<pre><code>cd ~/Desktop &amp;&amp; git clone git@github.com:st32lth/angular2-intro.git</code></pre>
<p>In order to run the project files, you need to do two things:</p>
<ul>
<li><p>First, install the server dependencies and run the server in the root of the repo:</p>
<pre><code>cd angular2-intro &amp;&amp; npm i &amp;&amp; npm start</code></pre>
<p>After the dependencies are installed, it will open up the browser at port 8080.</p></li>
<li><p>The next step is to install the dependencies for angular examples. Go to <code>project-files/angular-examples</code> and install the dependencies:</p>
<pre><code>cd project-files/angular-examples &amp;&amp; npm i</code></pre></li>
</ul>
<p>After following the steps above, you should be able to see the examples in the browser. For example, if you want to see the <code>basic-component</code> example, you can go to the following url:</p>
<pre><code>http://localhost:8080/project-files/angular-examples/basic-component/index.html</code></pre>
</div>
<div id="starter-project" class="section level3">
<h3>Starter Project</h3>
<p>There is a starter project in <code>angular-examples/starter</code>. You can make a copy of that folder if you want to work on something new. The steps for running the project is the same for all the projects:</p>
<ul>
<li>Install the dependencies for the dev server in the root of the repo with <code>npm i</code> <strong>(needed once)</strong></li>
<li>Start the dev server in the root of the repo with <code>npm start</code></li>
<li>Install the dependencies for angular examples: <code>cd project-files/angluar-examples &amp;&amp; npm i</code> <strong>(needed once)</strong></li>
<li>Open your project in VSCode: <code>code project-files/angular-examples/starter</code>
<ul>
<li>Close all chrome instances (quit out of Chrome)</li>
<li>In VSCode start the build with <code>command + shift + b</code> and run the app by hitting F5 on the keyboard</li>
</ul></li>
<li>If you don't want to use VSCode, you can use any other editor that you want. But make sure that you run the TypeScript compiler in the project folder: <code>cd project-files/angular-examples/starter &amp;&amp; tsc -w</code>.</li>
</ul>
</div>
</div>
<div id="using-the-docs" class="section level2">
<h2>Using the Docs</h2>
<p>Angular API reference can be found at: <a href="https://angular.io/docs/ts/latest/api" class="uri">https://angular.io/docs/ts/latest/api</a>.</p>
<p>If you are looking for annotations or decorators, look for the keyword followed by <code>metdata</code>. For example, if you want to look up the Component decorator, you would look for: <code>ComponentMetadata</code>. Below are the common metadata class names:</p>
<ul>
<li><code>ComponentMetadata</code></li>
<li><code>DirectiveMetadata</code></li>
<li><code>PipeMetadata</code></li>
<li><code>InjectMetadata</code></li>
<li><code>InjectableMetadata</code></li>
</ul>
<p><strong>TODO</strong></p>
<p><strong>Common Interfaces</strong></p>
<ul>
<li><code>OnInit</code></li>
</ul>
<p><strong>TODO</strong></p>
<p><strong>Common Enums</strong></p>
<ul>
<li><code>ChangeDetectionStrategy</code></li>
</ul>
<p><strong>TODO</strong></p>
</div>
<div id="metadata-classes" class="section level2">
<h2>Metadata Classes</h2>
<ul>
<li>Angular uses Metadata to decorate classes, methods and properties.</li>
<li>The most notable Metadata is the <code>@component</code> Metadata.</li>
<li>Metadta classes are very convenient and they make it easy to work with components, services and the dependency injection system</li>
</ul>
<p>Below is a list of Angular's core Metadata classes categorized under directives/components, pipes and di.</p>
<p><strong>Directive/component Meta-data</strong></p>
<ul>
<li><p><a href="https://angular.io/docs/ts/latest/api/core/ComponentMetadata-class.html">Component</a>: used to define a component</p>
<ul>
<li><a href="https://angular.io/docs/ts/latest/api/core/ViewMetadata-class.html">View</a>: used to define the template for a component</li>
<li><a href="https://angular.io/docs/ts/latest/api/core/ViewChildMetadata-class.html">ViewChild</a>: used to configure a view query</li>
<li><a href="https://angular.io/docs/ts/latest/api/core/ViewChildrenMetadata-class.html">ViewChildren</a>: used to configure a view query</li>
</ul></li>
<li><p><a href="https://angular.io/docs/ts/latest/api/core/DirectiveMetadata-class.html">Directive</a>: used to define a directive</p>
<ul>
<li><a href="https://angular.io/docs/ts/latest/api/core/AttributeMetadata-class.html">Attribute</a> used to grab the value of an attribute on an element hosting a directive</li>
<li><a href="https://angular.io/docs/ts/latest/api/core/ContentChildMetadata-class.html">ContentChild</a>: used to configure a content query</li>
<li><a href="https://angular.io/docs/ts/latest/api/core/ContentChildrenMetadata-class.html">ContentChildren</a>: used to configure a content query</li>
<li><a href="https://angular.io/docs/ts/latest/api/core/InputMetadata-class.html">Input</a>: used to define the input to a directive/component</li>
<li><a href="https://angular.io/docs/ts/latest/api/core/OutputMetadata-class.html">Output</a>: used to define the output events of a directive/component</li>
<li><a href="https://angular.io/docs/ts/latest/api/core/HostBindingMetadata-class.html">HostBinding</a>: used to declare a host property binding</li>
<li><a href="https://angular.io/docs/ts/latest/api/core/HostListenerMetadata-class.html">HostListener</a>: used to declare a host listener</li>
</ul></li>
</ul>
<p><strong>Pipes</strong></p>
<ul>
<li><a href="https://angular.io/docs/ts/latest/api/core/PipeMetadata-class.html">Pipe</a>: used to declare reusable pipe function</li>
</ul>
<p><strong>DI</strong></p>
<ul>
<li><a href="https://angular.io/docs/ts/latest/api/core/InjectMetadata-class.html">Inject</a>: parameter metadata that specifies a dependency.</li>
<li><a href="https://angular.io/docs/ts/latest/api/core/InjectableMetadata-class.html">Injectable</a>: a marker metadata that marks a class as available to Injector for creation.</li>
<li><a href="https://angular.io/docs/ts/latest/api/core/HostMetadata-class.html">Host</a>: Specifies that an injector should retrieve a dependency from any injector until reaching the closest host.</li>
<li><a href="https://angular.io/docs/ts/latest/api/core/OptionalMetadata-class.html">Optional</a>: parameter metadata that marks a dependency as optional</li>
<li><a href="https://angular.io/docs/ts/latest/api/core/SelfMetadata-class.html">Self</a>: Specifies that an Injector should retrieve a dependency only from itself.</li>
<li><a href="https://angular.io/docs/ts/latest/api/core/SkipSelfMetadata-class.html">SkipSelf</a>: Specifies that the dependency resolution should start from the parent injector.</li>
<li><a href="https://angular.io/docs/ts/latest/api/core/QueryMetadata-class.html">Query</a>: Declares an injectable parameter to be a live list of directives or variable bindings from the content children of a directive.</li>
<li><a href="https://angular.io/docs/ts/latest/api/core/ViewQueryMetadata-class.html">ViewQuery</a>: Similar to <code>QueryMetadata</code>, but querying the component view, instead of the content children.</li>
</ul>
<p><strong>TODO</strong></p>
</div>
<div id="component-basics" class="section level2">
<h2>Component Basics</h2>
<p>Components are at the heart of Angular. The main idea is that you break down your application into different cohesive components and let the components handle the rest. Every component has a controller defined by a class and a template defined by html. In addition, a component's job is to enable the user experience and delegate everything non-trivial to services.</p>
<p>In this section we are going to write a simple <code>HelloAngular</code> component, compile it and run it in the browser. In addition, we will configure VSCode to build the TypeScript files as we go.</p>
<p>Note that there is a lot to talk about components. We are going dive into components a lot more in later chapters, but for now let's just keep things simple.</p>
<p>The project files for this chapter are in <strong><a href="https://github.com/st32lth/angular2-intro/tree/master/project-files/angular-examples/basic-component"><code>angular2-intro/project-files/angular-examples/basic-component</code></a></strong> You can either follow along or just look at the final result</p>
<p>In order to run the project files, please refer to the <a href="#running-the-project-files">Running the Project Files</a> section.</p>
<p><strong>Getting Started</strong></p>
<p>Make a folder on your desktop called <code>hello-angular</code> and navigate to it:</p>
<pre><code>mkdir ~/Desktop/hello-angular &amp;&amp; cd $_</code></pre>
<p>Start npm in this folder with <code>npm init</code> and accept all the defaults.</p>
<p>After that, add the <code>dependencies</code> and <code>devDependencies</code> field to your <code>package.json</code> file:</p>
<div class="sourceCode" startFrom="1"><table class="sourceCode numberLines json"><tr class="sourceCode"><td class="lineNumbers"><pre>1
2
3
4
5
6
7
8
9
10
11
</pre></td><td class="sourceCode"><pre><code class="sourceCode json"><span class="er">&quot;dependencies&quot;:</span> <span class="fu">{</span>
  <span class="dt">&quot;angular2&quot;</span><span class="fu">:</span> <span class="st">&quot;^2.0.0-beta.1&quot;</span><span class="fu">,</span>
  <span class="dt">&quot;es6-promise&quot;</span><span class="fu">:</span> <span class="st">&quot;^3.0.2&quot;</span><span class="fu">,</span>
  <span class="dt">&quot;es6-shim&quot;</span><span class="fu">:</span> <span class="st">&quot;^0.33.3&quot;</span><span class="fu">,</span>
  <span class="dt">&quot;reflect-metadata&quot;</span><span class="fu">:</span> <span class="st">&quot;0.1.2&quot;</span><span class="fu">,</span>
  <span class="dt">&quot;rxjs&quot;</span><span class="fu">:</span> <span class="st">&quot;5.0.0-beta.0&quot;</span><span class="fu">,</span>
  <span class="dt">&quot;zone.js&quot;</span><span class="fu">:</span> <span class="st">&quot;0.5.10&quot;</span>
<span class="fu">}</span><span class="er">,</span>
<span class="er">&quot;devDependencies&quot;:</span> <span class="fu">{</span>
  <span class="dt">&quot;systemjs&quot;</span><span class="fu">:</span> <span class="st">&quot;^0.19.16&quot;</span>
<span class="fu">}</span></code></pre></td></tr></table></div>
<p>your <code>package.json</code> file should look something like the follwoing:</p>
<div class="sourceCode" startFrom="1"><table class="sourceCode numberLines json"><tr class="sourceCode"><td class="lineNumbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
</pre></td><td class="sourceCode"><pre><code class="sourceCode json"><span class="fu">{</span>
  <span class="dt">&quot;name&quot;</span><span class="fu">:</span> <span class="st">&quot;hello-angular&quot;</span><span class="fu">,</span>
  <span class="dt">&quot;version&quot;</span><span class="fu">:</span> <span class="st">&quot;1.0.0&quot;</span><span class="fu">,</span>
  <span class="dt">&quot;description&quot;</span><span class="fu">:</span> <span class="st">&quot;&quot;</span><span class="fu">,</span>
  <span class="dt">&quot;main&quot;</span><span class="fu">:</span> <span class="st">&quot;index.js&quot;</span><span class="fu">,</span>
  <span class="dt">&quot;scripts&quot;</span><span class="fu">:</span> <span class="fu">{</span>
    <span class="dt">&quot;test&quot;</span><span class="fu">:</span> <span class="st">&quot;echo </span><span class="ch">\&quot;</span><span class="st">Error: no test specified</span><span class="ch">\&quot;</span><span class="st"> &amp;&amp; exit 1&quot;</span>
  <span class="fu">},</span>
  <span class="dt">&quot;author&quot;</span><span class="fu">:</span> <span class="st">&quot;Stealth &lt;st32lth@gmail.com&gt; (http://github.com/st32lth)&quot;</span><span class="fu">,</span>
  <span class="dt">&quot;license&quot;</span><span class="fu">:</span> <span class="st">&quot;ISC&quot;</span><span class="fu">,</span>
  <span class="dt">&quot;dependencies&quot;</span><span class="fu">:</span> <span class="fu">{</span>
    <span class="dt">&quot;angular2&quot;</span><span class="fu">:</span> <span class="st">&quot;^2.0.0-beta.1&quot;</span><span class="fu">,</span>
    <span class="dt">&quot;es6-promise&quot;</span><span class="fu">:</span> <span class="st">&quot;^3.0.2&quot;</span><span class="fu">,</span>
    <span class="dt">&quot;es6-shim&quot;</span><span class="fu">:</span> <span class="st">&quot;^0.33.3&quot;</span><span class="fu">,</span>
    <span class="dt">&quot;reflect-metadata&quot;</span><span class="fu">:</span> <span class="st">&quot;0.1.2&quot;</span><span class="fu">,</span>
    <span class="dt">&quot;rxjs&quot;</span><span class="fu">:</span> <span class="st">&quot;5.0.0-beta.0&quot;</span><span class="fu">,</span>
    <span class="dt">&quot;zone.js&quot;</span><span class="fu">:</span> <span class="st">&quot;0.5.10&quot;</span>
  <span class="fu">},</span>
  <span class="dt">&quot;devDependencies&quot;</span><span class="fu">:</span> <span class="fu">{</span>
    <span class="dt">&quot;systemjs&quot;</span><span class="fu">:</span> <span class="st">&quot;^0.19.16&quot;</span>
  <span class="fu">}</span>
<span class="fu">}</span></code></pre></td></tr></table></div>
<p>Then run <code>npm i</code> to install the dependencies.</p>
<p>After all the dependencies are installed, start VSCode in this folder with <code>code .</code></p>
<p>Then create a <code>index.html</code> file in the root of the project and put in the following:</p>
<p><strong><code>index.html</code></strong></p>
<div class="sourceCode" startFrom="1"><table class="sourceCode numberLines html"><tr class="sourceCode"><td class="lineNumbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre></td><td class="sourceCode"><pre><code class="sourceCode html"><span class="kw">&lt;html&gt;</span>
<span class="kw">&lt;head&gt;</span>
  <span class="kw">&lt;title&gt;</span>Hello Angular<span class="kw">&lt;/title&gt;</span>

  <span class="kw">&lt;script</span><span class="ot"> src=</span><span class="st">&quot;/node_modules/angular2/bundles/angular2-polyfills.js&quot;</span><span class="kw">&gt;&lt;/script&gt;</span>
  <span class="kw">&lt;script</span><span class="ot"> src=</span><span class="st">&quot;/node_modules/systemjs/dist/system.src.js&quot;</span><span class="kw">&gt;&lt;/script&gt;</span>
  <span class="kw">&lt;script</span><span class="ot"> src=</span><span class="st">&quot;/node_modules/rxjs/bundles/Rx.js&quot;</span><span class="kw">&gt;&lt;/script&gt;</span>
  <span class="kw">&lt;script</span><span class="ot"> src=</span><span class="st">&quot;/node_modules/angular2/bundles/angular2.dev.js&quot;</span><span class="kw">&gt;&lt;/script&gt;</span>

  <span class="co">&lt;!-- add systemjs settings later --&gt;</span>

<span class="kw">&lt;/head&gt;</span>

<span class="kw">&lt;body&gt;</span>
  <span class="co">&lt;!-- add app stuff later --&gt;</span>
<span class="kw">&lt;/body&gt;</span>

<span class="kw">&lt;/html&gt;</span></code></pre></td></tr></table></div>
<p>This loads all the necessary scripts that we need to run Angular in the browser.</p>
<p><strong>Note</strong></p>
<p>If you need to support older browsers, you need to include the <code>es6-shims</code> before everything else:</p>
<div class="sourceCode" startFrom="1"><table class="sourceCode numberLines html"><tr class="sourceCode"><td class="lineNumbers"><pre>1
</pre></td><td class="sourceCode"><pre><code class="sourceCode html"><span class="kw">&lt;script</span><span class="ot"> src=</span><span class="st">&quot;/node_modules/es6-shim/es6-shim.js&quot;</span><span class="kw">&gt;&lt;/script&gt;</span></code></pre></td></tr></table></div>
<div id="making-a-simple-component" class="section level3">
<h3>Making a Simple Component</h3>
<p>Let's start by making the <code>main.ts</code> file in the root of the project. In this file we are going to define the main component called <code>HelloAngular</code> and then bootstrap the app with it:</p>
<p><strong><code>main.ts</code></strong></p>
<div class="sourceCode" startFrom="1"><table class="sourceCode numberLines java"><tr class="sourceCode"><td class="lineNumbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre></td><td class="sourceCode"><pre><code class="sourceCode java"><span class="kw">import {Component, OnInit} from &#39;angular2/core&#39;;</span>
<span class="kw">import {bootstrap} from &#39;angular2/platform/browser&#39;;</span>

<span class="fu">@Component</span>({
  selector: &#39;app&#39;,
  styles: [`h1 { line-height: 100vh; text-align: center }`],
  template: `&lt;h1&gt;{{ name }}&lt;/h1&gt;`
})
<span class="kw">class</span> HelloAngular <span class="kw">implements</span> OnInit {
  name: string;
  <span class="fu">constructor</span>() { <span class="kw">this</span>.<span class="fu">name</span> = &#39;Hello Angular&#39;; }
  <span class="fu">ngOnInit</span>() { console.<span class="fu">log</span>(&#39;component linked&#39;); }
}

<span class="fu">bootstrap</span>(HelloAngular, []);</code></pre></td></tr></table></div>
<ul>
<li>On line 1 we are importing the <code>component</code> meta data (annotation) and the <code>onInit</code> interface.</li>
<li>On line 2 we are loading the <code>bootstrap</code> method that bootstraps the app given a component.</li>
<li>On line 4, we are defining a component using the <code>component</code> decorator. The <code>@component</code> is technically a class decorator because it precedes the <code>HelloAngular</code> class definition.</li>
<li>On line 5, we are telling angular to look out for the <code>app</code> tag. So when Angular looks at the html and comes across the <code>&lt;app&gt;&lt;/app&gt;</code> tag, it is going to load the template (on line 6) and instantiates the class for it (defined on line 9).</li>
<li>On line 9, we are defining a class called <code>HelloAngular</code> that defines the logic of the component. And for fun, we are implementing the <code>OnInit</code> interface to log something to the console when the component is ready with its data. We will learn more about the lifeCycle hooks later.</li>
<li>Last but not least, we call the <code>bootstrap</code> method with the <code>HelloAngular</code> class as the first argument to bootstrap the app with the <code>HelloAngular</code> component.</li>
</ul>
<p><strong>Compiling the Component</strong></p>
<p>Now we need to compile the file to JavaScript. We can do it from the terminal, but let's stick to VSCode. In order to that, we need to make two config files:</p>
<ol style="list-style-type: decimal">
<li><p>First is the standard <a href="http://json.schemastore.org/tsconfig"><code>tsconfig.json</code></a> file</p></li>
<li><p>And the <code>tasks.json</code> file for VSCode to do the compiling</p></li>
</ol>
<p>Create the <code>tsconfig.json</code> file in the root of the project and put in the following:</p>
<p><strong><code>tsconfig.json</code></strong></p>
<div class="sourceCode" startFrom="1"><table class="sourceCode numberLines json"><tr class="sourceCode"><td class="lineNumbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre></td><td class="sourceCode"><pre><code class="sourceCode json"><span class="fu">{</span>
  <span class="dt">&quot;compilerOptions&quot;</span><span class="fu">:</span> <span class="fu">{</span>
    <span class="dt">&quot;target&quot;</span><span class="fu">:</span> <span class="st">&quot;es5&quot;</span><span class="fu">,</span>
    <span class="dt">&quot;module&quot;</span><span class="fu">:</span> <span class="st">&quot;system&quot;</span><span class="fu">,</span>
    <span class="dt">&quot;moduleResolution&quot;</span><span class="fu">:</span> <span class="st">&quot;node&quot;</span><span class="fu">,</span>
    <span class="dt">&quot;sourceMap&quot;</span><span class="fu">:</span> <span class="kw">true</span><span class="fu">,</span>
    <span class="dt">&quot;emitDecoratorMetadata&quot;</span><span class="fu">:</span> <span class="kw">true</span><span class="fu">,</span>
    <span class="dt">&quot;experimentalDecorators&quot;</span><span class="fu">:</span> <span class="kw">true</span><span class="fu">,</span>
    <span class="dt">&quot;removeComments&quot;</span><span class="fu">:</span> <span class="kw">false</span><span class="fu">,</span>
    <span class="dt">&quot;noImplicitAny&quot;</span><span class="fu">:</span> <span class="kw">false</span><span class="fu">,</span>
    <span class="dt">&quot;outDir&quot;</span><span class="fu">:</span> <span class="st">&quot;output&quot;</span><span class="fu">,</span>
    <span class="dt">&quot;watch&quot;</span><span class="fu">:</span> <span class="kw">true</span>
  <span class="fu">},</span>
  <span class="dt">&quot;exclude&quot;</span><span class="fu">:</span> <span class="ot">[</span>
    <span class="st">&quot;node_modules&quot;</span>
  <span class="ot">]</span>
<span class="fu">}</span></code></pre></td></tr></table></div>
<p>Then create the <code>tasks.json</code> in the <code>.vscode</code> folder in the root of the project and put in the following:</p>
<p><strong><code>.vscode/tasks.json</code></strong></p>
<div class="sourceCode" startFrom="1"><table class="sourceCode numberLines json"><tr class="sourceCode"><td class="lineNumbers"><pre>1
2
3
4
5
6
7
</pre></td><td class="sourceCode"><pre><code class="sourceCode json"><span class="fu">{</span>
  <span class="dt">&quot;version&quot;</span><span class="fu">:</span> <span class="st">&quot;0.1.0&quot;</span><span class="fu">,</span>
  <span class="dt">&quot;command&quot;</span><span class="fu">:</span> <span class="st">&quot;tsc&quot;</span><span class="fu">,</span>
  <span class="dt">&quot;showOutput&quot;</span><span class="fu">:</span> <span class="st">&quot;silent&quot;</span><span class="fu">,</span>
  <span class="dt">&quot;isShellCommand&quot;</span><span class="fu">:</span> <span class="kw">true</span><span class="fu">,</span>
  <span class="dt">&quot;problemMatcher&quot;</span><span class="fu">:</span> <span class="st">&quot;$tsc&quot;</span>
<span class="fu">}</span></code></pre></td></tr></table></div>
<ul>
<li><p>Now we can build the TypeScript files as we work. We just need to start the build task with <code>command + shift + b</code> or using the prompt. If you want to use the prompt do the following:</p>
<ul>
<li><p>Use <code>command + shift + p</code> to open the prompt</p></li>
<li><p>Then, type <code>&gt; run build task</code> and hit enter to start the build task.</p></li>
</ul></li>
<li><p>After you run the build task, you should see an <code>output</code> file generated with <code>main.js</code> and the source maps in it.</p></li>
<li><p>The task is watching the files and compiling as you go. To stop the task, open the prompt and type:</p>
<pre><code>&gt; terminate running task</code></pre></li>
</ul>
<p><strong>Loading the Component</strong></p>
<p>After compiling the component, we need to load it to the <code>index.html</code> file with <code>Systemjs</code>. Open the <code>index.html</code> file and replace <code>&lt;!-- add systemjs settings later --&gt;</code> with the following:</p>
<div class="sourceCode" startFrom="1"><table class="sourceCode numberLines html"><tr class="sourceCode"><td class="lineNumbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
</pre></td><td class="sourceCode"><pre><code class="sourceCode html"><span class="kw">&lt;script&gt;</span>
  <span class="va">System</span>.<span class="at">config</span>(<span class="op">{</span>
    <span class="dt">packages</span><span class="op">:</span> <span class="op">{</span>
      <span class="dt">output</span><span class="op">:</span> <span class="op">{</span>
        <span class="dt">format</span><span class="op">:</span> <span class="st">&#39;register&#39;</span><span class="op">,</span>
        <span class="dt">defaultExtension</span><span class="op">:</span> <span class="st">&#39;js&#39;</span>
      <span class="op">}</span>
    <span class="op">}</span>
  <span class="op">}</span>)<span class="op">;</span>
  <span class="va">System</span>.<span class="at">import</span>(<span class="st">&#39;output/main&#39;</span>)
  .<span class="at">then</span>(<span class="kw">null</span><span class="op">,</span> <span class="va">console</span>.<span class="va">error</span>.<span class="at">bind</span>(console))<span class="op">;</span>
<span class="op">&lt;</span><span class="ss">/script&gt;</span></code></pre></td></tr></table></div>
<p>Now we can use our component in the body of the html:</p>
<div class="sourceCode" startFrom="1"><table class="sourceCode numberLines html"><tr class="sourceCode"><td class="lineNumbers"><pre>1
2
3
</pre></td><td class="sourceCode"><pre><code class="sourceCode html"><span class="kw">&lt;body&gt;</span>
  <span class="kw">&lt;app&gt;</span>Loading ...<span class="kw">&lt;/app&gt;</span>
<span class="kw">&lt;/body&gt;</span></code></pre></td></tr></table></div>
<p>It is finally time to serve the app. You can serve the app in the current directory using the <code>live-server</code>:</p>
<pre><code>live-server .</code></pre>
<p>If everything is wired up correctly, you should be able to see the following:</p>
<div class="figure">
<img src="images/hello-angular.png" alt="Running a basic component in the browser" />
<p class="caption">Running a basic component in the browser</p>
</div>
<p><strong>Debugging the component</strong></p>
<p>You can connect chrome's debugger to VSCode using the chrome debugger extension for Visual Studio Code. See the <a href="#debugging-app-from-vscode">Debugging App from VSCode</a> section in case you missed to install it. But, assuming that you have the extension installed, you can debug your app from VSCode. In order to do that, we need to create a <code>launch.json</code> file in the <code>.vscode</code> folder:</p>
<pre><code>touch .vscode/launch.json</code></pre>
<p>After you created the file, put in the following configuration in the file:</p>
<div class="sourceCode" startFrom="1"><table class="sourceCode numberLines json"><tr class="sourceCode"><td class="lineNumbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre></td><td class="sourceCode"><pre><code class="sourceCode json"><span class="fu">{</span>
  <span class="dt">&quot;version&quot;</span><span class="fu">:</span> <span class="st">&quot;0.1.0&quot;</span><span class="fu">,</span>
  <span class="dt">&quot;configurations&quot;</span><span class="fu">:</span> <span class="ot">[</span>
    <span class="fu">{</span>
      <span class="dt">&quot;name&quot;</span><span class="fu">:</span> <span class="st">&quot;Launch Chrome Debugger&quot;</span><span class="fu">,</span>
      <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;chrome&quot;</span><span class="fu">,</span>
      <span class="dt">&quot;request&quot;</span><span class="fu">:</span> <span class="st">&quot;launch&quot;</span><span class="fu">,</span>
      <span class="dt">&quot;url&quot;</span><span class="fu">:</span> <span class="st">&quot;http://127.0.0.1:8080/&quot;</span><span class="fu">,</span>
      <span class="dt">&quot;sourceMaps&quot;</span><span class="fu">:</span> <span class="kw">true</span><span class="fu">,</span>
      <span class="dt">&quot;webRoot&quot;</span><span class="fu">:</span> <span class="st">&quot;.&quot;</span><span class="fu">,</span>
      <span class="dt">&quot;runtimeExecutable&quot;</span><span class="fu">:</span> <span class="st">&quot;/Applications/Google Chrome.app/Contents/MacOS/Google Chrome&quot;</span><span class="fu">,</span>
      <span class="dt">&quot;runtimeArgs&quot;</span><span class="fu">:</span> <span class="ot">[</span>
        <span class="st">&quot;--remote-debugging-port=9222&quot;</span><span class="ot">,</span>
        <span class="st">&quot;--incognito&quot;</span>
      <span class="ot">]</span>
    <span class="fu">}</span>
  <span class="ot">]</span>
<span class="fu">}</span></code></pre></td></tr></table></div>
<p>Before running the debugger:</p>
<ul>
<li>Make sure that all instances of chrome are closed. It makes it easier to run the debugger from VSCode itself.</li>
<li>Make sure that the <code>runtimeExecutable</code> path is valid. This value would be different depending on your OS.</li>
<li>Make sure that the <code>url</code> value is valid as well. The <code>url</code> value has to match the path that you see when you run a server serving the files.</li>
<li>Set a breakpoint on a line in <code>main.ts</code> file and then run the debugger under the debugger tab.</li>
</ul>
<p>In order to run the debugger, select <code>Launch Chrome Debugger</code> in the dropdown under the debugger tab and either click on the play icon or hit F5 on the keyboard. After that, an instance of Chrome should be opened in incognito mode. In order to trigger the debugger just refresh the page and you should be able to see the debugger pausing in VSCode. If everything is set up correctly you should be able to see something like the following screenshot:</p>
<div class="figure">
<img src="images/run-debugger.png" alt="Debugging the app with Chrome Debugger in VSCode" />
<p class="caption">Debugging the app with Chrome Debugger in VSCode</p>
</div>
</div>
<div id="component-inputs" class="section level3">
<h3>Component Inputs</h3>
<ul>
<li>You can pass data to a component.</li>
<li>You can either use the <code>inputs</code> array on a component or annotate an instance variable with the <code>Input</code> decorator</li>
<li>Once you specify the inputs to your component, they become available in the <code>ngOnInit</code> method</li>
<li>You can implement the <code>ngOnInit</code> and access the input instance variables</li>
<li>You can use the <code>[propname]=&quot;data&quot;</code> to set the <code>propname</code> to whatever <code>data</code> evaluates to</li>
<li>Note that if you set <code>[propname]=&quot;'data'&quot;</code>, <code>propname</code> will be set to the literal <code>data</code> string</li>
</ul>
<p><strong>Project files</strong></p>
<p>The project files for this section are in <a href="https://github.com/st32lth/angular2-intro/tree/master/project-files/angular-examples/component-input">angular2-intro/project-files/angular-examples/component-input</a>.</p>
<p><strong>Getting Started</strong></p>
<p>In order to demonstrate component inputs, we are going to create a <code>user</code> component and pass <code>name</code>, <code>lastName</code>, and <code>userId</code> to it. So our final html tag would look something like the following:</p>
<div class="sourceCode" startFrom="1"><table class="sourceCode numberLines html"><tr class="sourceCode"><td class="lineNumbers"><pre>1
</pre></td><td class="sourceCode"><pre><code class="sourceCode html"><span class="kw">&lt;user</span><span class="ot"> name=</span><span class="st">&quot;Tom&quot;</span><span class="ot"> lastName=</span><span class="st">&quot;Johnson&quot;</span><span class="ot"> uesrId=</span><span class="st">&quot;1&quot;</span><span class="kw">&gt;&lt;/user&gt;</span></code></pre></td></tr></table></div>
<p>And the template for the component will be:</p>
<div class="sourceCode" startFrom="1"><table class="sourceCode numberLines html"><tr class="sourceCode"><td class="lineNumbers"><pre>1
</pre></td><td class="sourceCode"><pre><code class="sourceCode html"><span class="kw">&lt;h1&gt;</span>Hello, {{ name }} {{ lastName }}, id: {{ userId }}<span class="kw">&lt;/h1&gt;</span></code></pre></td></tr></table></div>
<p>which would output: <code>Hello, Tom Johnson id: 1</code>.</p>
<p>To get started, let's define the <code>User</code> component:</p>
<div class="sourceCode" startFrom="1"><table class="sourceCode numberLines java"><tr class="sourceCode"><td class="lineNumbers"><pre>1
2
3
4
5
6
</pre></td><td class="sourceCode"><pre><code class="sourceCode java"><span class="fu">@Component</span>({
  selector: &#39;user&#39;,
  template: &#39;&lt;h1&gt;Hello, {{ name }} {{ lastName }} id: {{ userId }}&lt;/h1&gt;&#39;,
  inputs: [&#39;name&#39;, &#39;lastName&#39;, &#39;userId&#39;] <span class="co">// &lt;- specifying the inputs to the `User` component</span>
})
<span class="kw">class</span> User {}</code></pre></td></tr></table></div>
<ul>
<li>On line 4 we are defining the inputs as an array of strings</li>
</ul>
<p>Then, we are going to use the <code>User</code> component inside our app's template:</p>
<div class="sourceCode" startFrom="1"><table class="sourceCode numberLines java"><tr class="sourceCode"><td class="lineNumbers"><pre>1
2
3
4
5
</pre></td><td class="sourceCode"><pre><code class="sourceCode java"><span class="fu">@Component</span>({
  selector: &#39;app&#39;,
  template: `&lt;user name=<span class="st">&quot;Tom&quot;</span> lastName=<span class="st">&quot;Johnson&quot;</span> uesrId=<span class="st">&quot;1&quot;</span>&gt;&lt;/user&gt;`
})
<span class="kw">class</span> Root {}</code></pre></td></tr></table></div>
<p>because we are using the <code>User</code> component in the app, we need to register it with the app by adding <code>User</code> class to the list of <code>directives</code> of the app component:</p>
<div class="sourceCode" startFrom="1"><table class="sourceCode numberLines java"><tr class="sourceCode"><td class="lineNumbers"><pre>1
2
3
4
5
6
</pre></td><td class="sourceCode"><pre><code class="sourceCode java"><span class="fu">@Component</span>({
  selector: &#39;app&#39;,
  template: `&lt;user name=<span class="st">&quot;Tom&quot;</span> lastName=<span class="st">&quot;Johnson&quot;</span> userId=<span class="st">&quot;1&quot;</span>&gt;&lt;/user&gt;`,
  directives: [User] <span class="co">// &lt;- register the component</span>
})
<span class="kw">class</span> Root {}</code></pre></td></tr></table></div>
<p>and at the end we need to bootstrap the app:</p>
<div class="sourceCode" startFrom="1"><table class="sourceCode numberLines java"><tr class="sourceCode"><td class="lineNumbers"><pre>1
</pre></td><td class="sourceCode"><pre><code class="sourceCode java"><span class="fu">bootstrap</span>(Root, [])</code></pre></td></tr></table></div>
<p>Now, notice that instead of adding the inputs to the <code>inputs</code> array, we could have decorated the instance variables with the <code>@Input</code> decorator:</p>
<div class="sourceCode" startFrom="1"><table class="sourceCode numberLines java"><tr class="sourceCode"><td class="lineNumbers"><pre>1
2
3
4
5
6
7
8
9
10
11
</pre></td><td class="sourceCode"><pre><code class="sourceCode java"><span class="kw">import {Input} from &#39;angular2/core&#39;;</span> <span class="co">// &lt;- importing the Input decorator</span>
<span class="fu">@Component</span>({
  selector: &#39;user&#39;,
  template: &#39;&lt;h1&gt;Hello, {{ name }} {{ lastName }} id: {{ userId }}&lt;/h1&gt;&#39;
  <span class="co">// &lt;- removing the inputs array.</span>
})
<span class="kw">class</span> User {
  <span class="fu">@Input</span>() <span class="kw">private</span> name: string;
  <span class="fu">@Input</span>() <span class="kw">private</span> lastName: string;
  <span class="fu">@Input</span>() <span class="kw">private</span> userId: number;
}</code></pre></td></tr></table></div>
<p><strong>Binding Data to Properties</strong></p>
<p>Now, let's see how we can bind to a property from another component. For this example, we are going to continue with our <code>User</code> component and create a new component called <code>Permission</code>. Then we are going to use the the <code>Permission</code> component inside the <code>User</code> component and set the <code>uid</code> of <code>Permission</code> by the <code>userId</code> of the <code>User</code>.</p>
<p>The <code>Permission</code> component is defined as follows:</p>
<div class="sourceCode" startFrom="1"><table class="sourceCode numberLines java"><tr class="sourceCode"><td class="lineNumbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre></td><td class="sourceCode"><pre><code class="sourceCode java"><span class="fu">@Component</span>({
  selector: &#39;permission&#39;,
  template: &#39;&lt;h2&gt; Restriction is: {{ restriction }}&#39;
})
<span class="kw">class</span> Permission {
  <span class="fu">@Input</span>() <span class="kw">private</span> uid: string;
  <span class="kw">private</span> restriction: string;
  <span class="fu">constructor</span>() {
    <span class="kw">this</span>.<span class="fu">restriction</span> = &#39;none&#39;;
  }
  <span class="fu">ngOnInit</span>() {
    <span class="kw">this</span>.<span class="fu">restriction</span> = <span class="kw">this</span>.<span class="fu">uid</span> === &#39;<span class="dv">1</span>&#39; ? &#39;admin&#39; : &#39;normal&#39;;
  }
}</code></pre></td></tr></table></div>
<ul>
<li>On line 6 we are defining <code>uid</code> to be an input instance variable. It's value is set from outside.</li>
<li>In the constructor we are setting a default value for the restriction.</li>
<li>Then in the <code>ngOnInit</code> hook, we are evaluating the value of <code>restriction</code> based on the given id provided by other components, in this case the <code>User</code> component</li>
<li>In this silly example, if the passed id is <code>1</code>, we will set the <code>restriction</code> to <code>admin</code>, otherwise we set it to <code>normal</code>.</li>
</ul>
<p>then we are going to register the <code>Permission</code> component with the <code>User</code> component so that we can use it in the <code>User</code> template:</p>
<div class="sourceCode" startFrom="1"><table class="sourceCode numberLines java"><tr class="sourceCode"><td class="lineNumbers"><pre>1
2
3
4
5
6
</pre></td><td class="sourceCode"><pre><code class="sourceCode java"><span class="fu">@Component</span>({
  selector: &#39;user&#39;,
  <span class="co">///...</span>
  directives: [Permission] <span class="co">// &lt;-</span>
})
<span class="kw">class</span> User {}</code></pre></td></tr></table></div>
<p>then we can update the <code>User</code> template to include the <code>Permission</code>:</p>
<div class="sourceCode" startFrom="1"><table class="sourceCode numberLines java"><tr class="sourceCode"><td class="lineNumbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
</pre></td><td class="sourceCode"><pre><code class="sourceCode java"><span class="fu">@Component</span>({
  selector: &#39;user&#39;,
  template: `
  &lt;h1&gt;Hello, {{ name }} {{ lastName }}, id: {{ userId}}&lt;/h1&gt;
  &lt;div&gt;
    &lt;permission [uid]=<span class="st">&quot;userId&quot;</span>&gt;&lt;/permission&gt;
  &lt;/div&gt;
  `,
  inputs: [&#39;name&#39;, &#39;lastName&#39;, &#39;userId&#39;],
  directives: [Permission]
})
<span class="kw">class</span> User {}</code></pre></td></tr></table></div>
<ul>
<li>Note that on line 6 we are setting the <code>uid</code> of <code>Permission</code> by <code>userId</code> available from the <code>User</code> component.</li>
</ul>
<p>If you run the app you should see the following printed to the page:</p>
<div class="figure">
<img src="images/input-cmp.png" alt="Input to components" />
<p class="caption">Input to components</p>
</div>
</div>
<div id="binding-to-dom-properties" class="section level3">
<h3>Binding to DOM Properties</h3>
<ul>
<li><code>[style.color]=&quot;done ? 'green' : 'red' &quot;</code></li>
<li><code>[class.name]=&quot;done ? 'done' : 'pending'&quot;</code></li>
<li><code>[hidden]=isLoaded ? true : false</code></li>
</ul>
<p><strong>TODO</strong></p>
</div>
<div id="component-outputevents" class="section level3">
<h3>Component Output/Events</h3>
<ul>
<li>Events can be emitted from components. These events can be either custom or they could be DOM events</li>
<li>The syntax is <code>(eventname)=&quot;fn()&quot;</code> where <code>eventname</code> is the name of the event and <code>fn</code> is the handler function</li>
<li>The handler function is called when the event is fired</li>
<li>For example, if you want to handle a click event you can do: <code>(click)=&quot;handler()&quot;</code>. In this case the <code>hander</code> is called whenever the click event is fired off</li>
<li>You can use Angular's <code>EventEmitter</code> to fire off custom events</li>
</ul>
<div id="custom-output-events" class="section level4">
<h4>Custom Output Events</h4>
<p><strong>Project Files</strong></p>
<p>The project files for this section are in <a href="https://github.com/st32lth/angular2-intro/tree/master/project-files/angular-examples/component-output-events">angular2-intro/project-files/angular-examples/component-output-events</a>.</p>
<p><strong>Final Result</strong></p>
<p>The goal of this section is to show you how to create a component that contains a button that when is clicked, calls a handler defined by the component's class. The final html will look like the following:</p>
<div class="sourceCode" startFrom="1"><table class="sourceCode numberLines html"><tr class="sourceCode"><td class="lineNumbers"><pre>1
2
</pre></td><td class="sourceCode"><pre><code class="sourceCode html"><span class="kw">&lt;p&gt;</span>Value: {{ value }}<span class="kw">&lt;/p&gt;</span>
<span class="kw">&lt;button</span> <span class="er">(click)</span><span class="ot">=</span><span class="st">addOne()</span><span class="kw">&gt;</span>Add +<span class="kw">&lt;/button&gt;</span></code></pre></td></tr></table></div>
<p>That idea is very simple: every time we click on the button we want to increment the value by one. In addition to that, we want to be able to hook into a custom event and run the <code>addOne</code> method whenever the event is fired:</p>
<div class="sourceCode" startFrom="1"><table class="sourceCode numberLines html"><tr class="sourceCode"><td class="lineNumbers"><pre>1
2
</pre></td><td class="sourceCode"><pre><code class="sourceCode html"><span class="kw">&lt;p&gt;</span>Value: {{ value }}<span class="kw">&lt;/p&gt;</span>
<span class="kw">&lt;span</span><span class="ot"> adder-auto</span> <span class="er">(myevent)</span><span class="ot">=</span><span class="st">addOne()</span><span class="kw">&gt;</span>adding ...<span class="kw">&lt;/span&gt;</span></code></pre></td></tr></table></div>
<p><strong>Getting Started</strong></p>
<p>Let's get started by defining our <code>Adder</code> component:</p>
<div class="sourceCode" startFrom="1"><table class="sourceCode numberLines java"><tr class="sourceCode"><td class="lineNumbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre></td><td class="sourceCode"><pre><code class="sourceCode java"><span class="fu">@Component</span>({
  selector: &#39;adder&#39;,
  template:`
  &lt;p&gt;Value: {{ value }}&lt;/p&gt;
  &lt;<span class="fu">button</span> (click)=<span class="fu">addOne</span>()&gt;Add +&lt;/button&gt;
  `
})
<span class="kw">class</span> Adder {
  <span class="kw">private</span> value: number;
  <span class="fu">constructor</span>() {
    <span class="kw">this</span>.<span class="fu">value</span> = <span class="dv">0</span>;
  }
  <span class="fu">addOne</span>() {
  <span class="kw">this</span>.<span class="fu">value</span> += <span class="dv">1</span>;
  console.<span class="fu">log</span>(<span class="kw">this</span>.<span class="fu">value</span>);
  }
}</code></pre></td></tr></table></div>
<p>Now, we are just going to register <code>Adder</code> with our root component:</p>
<div class="sourceCode" startFrom="1"><table class="sourceCode numberLines java"><tr class="sourceCode"><td class="lineNumbers"><pre>1
2
3
4
5
6
</pre></td><td class="sourceCode"><pre><code class="sourceCode java"><span class="fu">@Component</span>({
  selector: &#39;app&#39;,
  directives: [Adder],
  template: &#39;&lt;adder&gt;&lt;/adder&gt;&#39;
})
<span class="kw">class</span> App {}</code></pre></td></tr></table></div>
<p>after you bootstrap the app and run it you should be able to see a button that when clicked increments the value by one.</p>
<p><strong>Using EventEmitter</strong></p>
<p>Now, let's see how we can use the <code>EventEmitter</code> to increment the value by one every time a custom event is fired every second. In order to achieve that, we are going to create an attribute directive called <code>AdderAuto</code>. Start by importing the <code>Directive</code> metadata class:</p>
<div class="sourceCode" startFrom="1"><table class="sourceCode numberLines java"><tr class="sourceCode"><td class="lineNumbers"><pre>1
</pre></td><td class="sourceCode"><pre><code class="sourceCode java"><span class="kw">import {Directive} from &#39;angular2/core&#39;;</span></code></pre></td></tr></table></div>
<p>and then define the selector for the directive:</p>
<div class="sourceCode" startFrom="1"><table class="sourceCode numberLines java"><tr class="sourceCode"><td class="lineNumbers"><pre>1
2
3
</pre></td><td class="sourceCode"><pre><code class="sourceCode java"><span class="fu">@Directive</span>({
  selector: &#39;[adder-auto]&#39;
})</code></pre></td></tr></table></div>
<ul>
<li><code>selector: '[adder-auto]'</code> means that angular will target any element that has the <code>adder-auto</code> attribute and will create an instance of the class. Now we need to define the class for our directive:</li>
</ul>
<div class="sourceCode" startFrom="1"><table class="sourceCode numberLines java"><tr class="sourceCode"><td class="lineNumbers"><pre>1
2
3
</pre></td><td class="sourceCode"><pre><code class="sourceCode java"><span class="kw">class</span> AdderAuto {
  <span class="co">// custom event definition</span>
}</code></pre></td></tr></table></div>
<p>In this class we need to define a custom event output hook. We are going to call it <code>myevent</code>. The same way that you can hook into <code>(click)</code>, we want to be able to use <code>(myevent)</code>. To achieve that, we need to create an instance variable and decorate it with the <code>Output</code> decorator:</p>
<div class="sourceCode" startFrom="1"><table class="sourceCode numberLines java"><tr class="sourceCode"><td class="lineNumbers"><pre>1
2
3
4
5
6
7
8
</pre></td><td class="sourceCode"><pre><code class="sourceCode java"><span class="co">// -&gt; importing `EventEmitter` and `Output` decorator.</span>
<span class="kw">import {EventEmitter, Output} from &#39;angular2/core&#39;;</span>
<span class="kw">class</span> AdderAuto {
  <span class="fu">@Output</span>() myevent: EventEmitter&lt;string&gt;;
  <span class="fu">constructor</span>() {
    <span class="kw">this</span>.<span class="fu">myevent</span> = <span class="kw">new</span> <span class="fu">EventEmitter</span>();
  }
}</code></pre></td></tr></table></div>
<ul>
<li>If you notice, <code>myevent</code> is of type <code>EventEmitter</code> that emit events of type string</li>
<li>In the constructor we are creating an instance of <code>EventEmitter</code>. So now we can use <code>myevent</code> to emit events</li>
<li>We can use <code>setInterval</code> to emit event from our custom event every second</li>
</ul>
<div class="sourceCode" startFrom="1"><table class="sourceCode numberLines java"><tr class="sourceCode"><td class="lineNumbers"><pre>1
2
3
4
5
6
7
</pre></td><td class="sourceCode"><pre><code class="sourceCode java"><span class="kw">class</span> AdderAuto {
  <span class="fu">@Output</span>() myevent: EventEmitter&lt;string&gt;;
  <span class="fu">constructor</span>() {
    <span class="kw">this</span>.<span class="fu">myevent</span> = <span class="kw">new</span> <span class="fu">EventEmitter</span>();
    <span class="fu">setInterval</span>(()=&gt; {<span class="kw">this</span>.<span class="fu">myevent</span>.<span class="fu">emit</span>(&#39;myevename&#39;)}, <span class="dv">1000</span>);
  }
}</code></pre></td></tr></table></div>
<p>Now we can register <code>AdderAuto</code> with the <code>Adder</code> component and run the <code>addOne</code> method every second:</p>
<div class="sourceCode" startFrom="1"><table class="sourceCode numberLines java"><tr class="sourceCode"><td class="lineNumbers"><pre>1
2
3
4
5
</pre></td><td class="sourceCode"><pre><code class="sourceCode java"><span class="fu">@Component</span>({
  selector: &#39;adder&#39;,
  ...
  directives: [AdderAuto] <span class="co">// &lt;- register `AdderAuto`</span>
})</code></pre></td></tr></table></div>
<p>and then we can update the template:</p>
<div class="sourceCode" startFrom="1"><table class="sourceCode numberLines html"><tr class="sourceCode"><td class="lineNumbers"><pre>1
2
3
4
5
</pre></td><td class="sourceCode"><pre><code class="sourceCode html"><span class="kw">&lt;p&gt;</span>Value: {{ value }}<span class="kw">&lt;/p&gt;</span>
<span class="kw">&lt;button</span> <span class="er">(click)</span><span class="ot">=</span><span class="st">&quot;addOne()&quot;</span><span class="kw">&gt;</span>Add +<span class="kw">&lt;/button&gt;</span>
<span class="co">&lt;!-- using the event. --&gt;</span>
<span class="kw">&lt;h2&gt;</span>Using Emitter<span class="kw">&lt;/h2&gt;</span>
<span class="kw">&lt;span</span><span class="ot"> adder-auto</span> <span class="er">(myevent)</span><span class="ot">=</span><span class="st">&quot;addOne($event)&quot;</span><span class="kw">&gt;</span> EVENT: <span class="kw">&lt;/span&gt;</span></code></pre></td></tr></table></div>
<ul>
<li>first we are adding the attribute directive <code>adder-auto</code> on the span</li>
<li>second, we are using the <code>myevent</code> hook and attaching <code>addOne</code> handler to it. This means that whenever the <code>myevent</code> event is triggered, run the <code>addOne</code> handler.</li>
</ul>
<p>The <code>Adder</code> component now looks like the following with the updated template:</p>
<div class="sourceCode" startFrom="1"><table class="sourceCode numberLines java"><tr class="sourceCode"><td class="lineNumbers"><pre>1
2
3
4
5
6
7
8
9
10
</pre></td><td class="sourceCode"><pre><code class="sourceCode java"><span class="fu">@Component</span>({
  selector: &#39;adder&#39;,
  template:`
  &lt;p&gt;Value: {{ value }}&lt;/p&gt;
  &lt;<span class="fu">button</span> (click)=<span class="st">&quot;addOne()&quot;</span>&gt;Add +&lt;/button&gt;
  &lt;h2&gt;Using Emitter&lt;/h2&gt;
  &lt;span adder-<span class="fu">auto</span> (myevent)=<span class="st">&quot;addOne($event)&quot;</span>&gt; EVENT: &lt;/span&gt;
  `,
  directives: [AdderAuto]
})</code></pre></td></tr></table></div>
<p>Now if you run the code, you should be able to see the number incrementing by one every second.</p>
</div>
<div id="native-dom-output-events" class="section level4">
<h4>Native DOM Output Events</h4>
<p><strong>TODO</strong></p>
</div>
</div>
</div>
<div id="directives" class="section level2">
<h2>Directives</h2>
<ul>
<li>Directives and components hand-in-hand are the fundamental building blocks of any Angular app</li>
<li>Directives are components without templates. Conversely, components are directives without templates</li>
<li>Directives allow you to attach behavior to elements in the DOM</li>
<li>A directive is defined using the <code>@directive</code> decorator</li>
<li>There are three types of directives in Angular:
<ul>
<li>Structural</li>
<li>Attribute</li>
<li>Components</li>
</ul></li>
<li>Evey directive metadata, has the following options:
<ul>
<li>selector</li>
<li>host</li>
<li>...</li>
</ul></li>
<li>The <code>selector</code> attribute uses a css selector to find the element. However, parent-child relationship selectors are not supported</li>
<li>You can use the following possible selectors:
<ul>
<li><code>element</code></li>
<li><code>[attribute]</code></li>
<li><code>.classname</code></li>
<li><code>:not()</code></li>
<li><code>.some-class:not(div)</code></li>
</ul></li>
<li>The <code>host</code> option defines:
<ul>
<li>Property bindings</li>
<li>Event handlers</li>
<li>attributes</li>
</ul></li>
</ul>
<p><strong>TODO</strong>(other decorator options)</p>
<div id="web-components-and-shadow-dom-basics" class="section level3">
<h3>Web Components and Shadow DOM Basics</h3>
<p><strong>TODO</strong> (shadow dom, light dom, <template>, etc...)</p>
</div>
<div id="attribute-directives" class="section level3">
<h3>Attribute Directives</h3>
<ul>
<li>The Attribute directive changes the appearance or behavior of an element.</li>
<li>Angular has several built-in attribute directives, namely <code>NgClass</code> and <code>NgStyle</code></li>
<li>It is a good idea to prefix your directives with a prefix. You cannot use the <code>ng</code> prefix since it's already used by Angular.</li>
<li>When you apply the attribute directive to an element, the element will be knownn as the <strong>host</strong>.</li>
<li>For example, if you had a directive called <code>my-directive</code> and applied it in <code>&lt;div class=&quot;hello&quot;&gt; &lt;span my-directive&gt; ... &lt;/span&gt; &lt;/div&gt;</code>, the <code>span</code> would be the <strong>host</strong>.</li>
</ul>
<p><strong>TODO</strong> (writing a custom attribute directive)</p>
<div class="sourceCode" startFrom="1"><table class="sourceCode numberLines java"><tr class="sourceCode"><td class="lineNumbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
</pre></td><td class="sourceCode"><pre><code class="sourceCode java"><span class="fu">@Directive</span>({
  selector: &#39;[simple-directive]&#39;,
  host: {
    &#39;(mouseleave)&#39;: &#39;<span class="fu">onMouseLeave</span>()&#39;,
    &#39;(click)&#39;: &#39;<span class="fu">onClick</span>()&#39;,
    &#39;[hidden]&#39;: &#39;isHidden&#39;,
    &#39;[<span class="kw">class</span>.<span class="fu">done</span>]&#39;: &#39;isDone&#39;,
    &#39;role&#39;: &#39;button&#39;
  }
})
<span class="kw">class</span> SimpleDirective <span class="kw">implements</span> OnInit {
  <span class="fu">@Input</span>() <span class="kw">private</span> color: string
  <span class="fu">@Output</span>() myevent: EventEmitter&lt;string&gt;;
  <span class="kw">private</span> isHidden: <span class="dt">boolean</span> = <span class="kw">false</span>;
  <span class="kw">private</span> isDone: <span class="dt">boolean</span> = <span class="kw">false</span>;
  <span class="kw">private</span> defaultColor:string = &#39;magenta&#39;;
  <span class="kw">private</span> elm: any;

  <span class="fu">constructor</span>(<span class="kw">private</span> elmRef: ElementRef, <span class="kw">private</span> renderer: Renderer) {
    <span class="kw">this</span>.<span class="fu">elm</span> = elmRef.<span class="fu">nativeElement</span>;
    <span class="kw">this</span>.<span class="fu">myevent</span> = <span class="kw">new</span> <span class="fu">EventEmitter</span>();
    <span class="fu">setInterval</span>(() =&gt; {<span class="kw">this</span>.<span class="fu">myevent</span>.<span class="fu">emit</span>(&#39;myevename&#39;)}, <span class="dv">1000</span>);
  }
  <span class="fu">ngOnInit</span>() {
    <span class="kw">this</span>.<span class="fu">defaultColor</span> = <span class="kw">this</span>.<span class="fu">color</span> || <span class="kw">this</span>.<span class="fu">defaultColor</span>;
    <span class="kw">this</span>.<span class="fu">setColor</span>(<span class="kw">this</span>.<span class="fu">color</span> || <span class="kw">this</span>.<span class="fu">defaultColor</span>);
  }
  <span class="kw">private</span> <span class="fu">setColor</span>(color: string) {
    <span class="kw">this</span>.<span class="fu">renderer</span>.<span class="fu">setElementStyle</span>(<span class="kw">this</span>.<span class="fu">elm</span>, &#39;color&#39;, color);
  }
  set <span class="fu">setIsHidden</span>(state) { <span class="kw">this</span>.<span class="fu">isHidden</span> = state; }
  set <span class="fu">setIsDone</span>(state) { <span class="kw">this</span>.<span class="fu">isDone</span> = state; }

  <span class="fu">onMouseLeave</span>() { <span class="kw">this</span>.<span class="fu">setColor</span>(<span class="kw">this</span>.<span class="fu">defaultColor</span>); }
  <span class="fu">onClick</span>() { <span class="kw">this</span>.<span class="fu">setColor</span>(&#39;orange&#39;) }
}</code></pre></td></tr></table></div>
<p><strong>selector</strong> TODO: details</p>
<p><strong>host</strong> TODO: details</p>
<p><strong>Input</strong> TODO: details</p>
<p><strong>Output</strong> TODO: details</p>
<p><strong>ElementRef</strong> TODO: details**</p>
<p><strong>Renderer</strong> TODO: details**</p>
</div>
<div id="structural-directives" class="section level3">
<h3>Structural Directives</h3>
<ul>
<li>The Structural directive changes the DOM layout by adding and removing DOM elements</li>
<li>Angular has several built-in structural directives, namely <code>NgIf</code>, <code>NgSwitch</code>, and <code>NgFor</code></li>
<li>When working with structural directives, we should ask ourselves to think carefully about the consequences of adding and removing elements and of creating and destroying components</li>
<li>Angular uses the html5 <code>&lt;template&gt;</code> tag to add or remove DOM elements</li>
<li>By default, Angular replaces <code>&lt;template&gt;</code> with <code>&lt;script&gt;</code> tag if no behavior is attached</li>
<li>The <code>*</code> before a directive name is a shorthand for including the directive content in the <code>&lt;template&gt;</code> tag</li>
<li>Below you can see the built-in <code>NgIf</code> directive with and without the asterisks <code>*</code>:</li>
</ul>
<p><strong>With <code>*</code></strong></p>
<div class="sourceCode" startFrom="1"><table class="sourceCode numberLines html"><tr class="sourceCode"><td class="lineNumbers"><pre>1
</pre></td><td class="sourceCode"><pre><code class="sourceCode html"><span class="kw">&lt;p</span> <span class="er">*ngIf</span><span class="ot">=</span><span class="st">&quot;condition&quot;</span><span class="kw">&gt;&lt;/p&gt;</span></code></pre></td></tr></table></div>
<p><strong>Without <code>*</code></strong></p>
<div class="sourceCode" startFrom="1"><table class="sourceCode numberLines html"><tr class="sourceCode"><td class="lineNumbers"><pre>1
2
3
</pre></td><td class="sourceCode"><pre><code class="sourceCode html"><span class="kw">&lt;template</span> <span class="er">[ngIf]</span><span class="ot">=</span><span class="st">&quot;condition&quot;</span><span class="kw">&gt;</span>
  <span class="kw">&lt;p&gt;&lt;/p&gt;</span>
<span class="kw">&lt;/template&gt;</span></code></pre></td></tr></table></div>
<p>Notice how the <code>&lt;p&gt;</code> tag is wrapped with a <code>&lt;template&gt;</code> and the condition is bound to the <code>[ngIf]</code> property of the directive</p>
<p><strong>TODO</strong> (writing a custom structural directive)</p>
<div class="sourceCode" startFrom="1"><table class="sourceCode numberLines java"><tr class="sourceCode"><td class="lineNumbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre></td><td class="sourceCode"><pre><code class="sourceCode java"><span class="fu">@Directive</span>({
  selector: &#39;[myUnless]&#39;
})
<span class="kw">class</span> UnlessDirective {

  <span class="fu">constructor</span>(
    <span class="kw">private</span> tRef: TemplateRef,
    <span class="kw">private</span> vContainer: ViewContainerRef
  ) { }

  <span class="fu">@Input</span>() set <span class="fu">myUnless</span>(condition: <span class="dt">boolean</span>) {
    <span class="kw">if</span> (!condition) {
      <span class="kw">this</span>.<span class="fu">vContainer</span>.<span class="fu">createEmbeddedView</span>(<span class="kw">this</span>.<span class="fu">tRef</span>);
    } <span class="kw">else</span> {
      <span class="kw">this</span>.<span class="fu">vContainer</span>.<span class="fu">clear</span>();
    }
  }
}</code></pre></td></tr></table></div>
<p><strong>TemplateRef</strong>: TODO: details</p>
<p><strong>ViewContainerRef</strong>: TODO: details</p>
<p><strong><code>@Input() set myUnless(condition: boolean) {}</code></strong>: TODO: details</p>
</div>
<div id="built-in-directives" class="section level3">
<h3>Built-in Directives</h3>
<p>Angular has a couple of useful built-in directives.</p>
<p><strong>TODO</strong>(Note on directive names, docs and template usage)</p>
<div id="ngclass" class="section level4">
<h4><code>NgClass</code></h4>
<ul>
<li><code>import {NgClass} from 'angular2/common';</code>, <code>directives: [NgClass]</code></li>
<li>Template Usage: <code>&lt;div class=&quot;button&quot; [ngClass]=&quot;{active: isActive, disabled: !isActive}&quot;</code> <strong>Note</strong> that we are using <code>ngClass</code> in the template, but not <code>NgClass</code></li>
</ul>
</div>
<div id="ngif" class="section level4">
<h4><code>NgIf</code></h4>
<p><strong>Usage</strong></p>
<div class="sourceCode" startFrom="1"><table class="sourceCode numberLines html"><tr class="sourceCode"><td class="lineNumbers"><pre>1
</pre></td><td class="sourceCode"><pre><code class="sourceCode html"><span class="kw">&lt;div</span> <span class="er">*ngIf</span><span class="ot">=</span><span class="st">&quot;isDone&quot;</span><span class="kw">&gt;</span>{{ list }}<span class="kw">&lt;/div&gt;</span></code></pre></td></tr></table></div>
<p>or in long-hand form:</p>
<div class="sourceCode" startFrom="1"><table class="sourceCode numberLines html"><tr class="sourceCode"><td class="lineNumbers"><pre>1
2
3
</pre></td><td class="sourceCode"><pre><code class="sourceCode html"><span class="kw">&lt;template&gt;</span>
  <span class="kw">&lt;div</span> <span class="er">[ngIf]</span><span class="ot">=</span><span class="st">&quot;isDone&quot;</span><span class="kw">&gt;</span>{{ list }}<span class="kw">&lt;/div&gt;</span>
<span class="kw">&lt;/template&gt;</span></code></pre></td></tr></table></div>
<p><strong>Details</strong></p>
From the docs: &quot;The ngIf directive does not hide the element. Using browser developer tools we can see that, when the condition is true, the top paragraph is in the DOM and the bottom disused paragraph is completely absent from the DOM! In its place are empty
<script> tags. We could hide the unwanted paragraph by setting its css display style to none. The element would remain in the DOM while invisible. Instead we removed it with ngIf.

The difference matters. When we hide an element, the component's behavior continues. It remains attached to its DOM element. It continues to listen to events. Angular keeps checking for changes that could affect data bindings. Whatever the component was doing it keeps doing.

Although invisible, the component — and all of its descendant components — tie up resources that might be more useful elsewhere. The performance and memory burden can be substantial and the user may not benefit at all.

On the positive side, showing the element again is very quick. The component's previous state is preserved and ready to display. The component doesn't re-initialize — an operation that could be expensive.

ngIf is different. Setting ngIf to false does affect the component's resource consumption. Angular removes the element from DOM, stops change detection for the associated component, detaches it from DOM events (the attachments that it made) and destroys the component. The component can be garbage-collected (we hope) and free up memory.

Components often have child components which themselves have children. All of them are destroyed when ngIf destroys the common ancestor. This cleanup effort is usually a good thing.

Of course it isn't always a good thing. It might be a bad thing if we need that particular component again soon.

The component's state might be expensive to re-construct. When ngIf becomes true again, Angular recreates the component and its subtree. Angular runs every component's initialization logic again. That could be expensive ... as when a component re-fetches data that had been in memory just moments ago."

#### `NgSwitch`

**Usage**

~~~~{.numberLines .html startFrom="1"}
<div [ngSwitch]="status">
  <template [ngSwitchWhen]="'inProgress'">In Progress</template>
  <template [ngSwitchWhen]="'isDone'">Finished</template>
  <template ngSwitchDefault>Unknown</template>
</div>
~~~~~~~

**TODO**

#### `NgFor`

**Usage**

~~~~{.numberLines .html startFrom="1"}
<ul>
   <li *ngFor="#item of items">{{ item }}</li>
</ul>
~~~~~~~

or in long-hand form:

~~~~{.numberLines .html startFrom="1"}
<ul>
  <template ngFor #item [ngForOf]="items">
    <li>{{ item }}</li>
  </template>
</ul>
~~~~~~~

**TODO**(Details)


### Accessing Directives from Parents

**TODO** (access directives on parent elements)

### Accessing Directives from Children

**TODO** (access directives on children and descendants)


## Change Detection

- In Angular2 you can limit the change detection scope to components
- Using `chageDection` property we can choose a change detection strategy for a component
- The `changeDetection` field accept one of the following values:

    - `ChangeDetectionStrategy.Default`: sets detector mode to `CheckAlways`
    - `ChangeDetectionStrategy.OnPush`: sets detector mode to `CheckOnce`. This will limit change detection to the bindings affecting the component only
    - `ChangeDetectionStrategy.Detached`: change detector sub tree is not a part of the main tree and should be skipped
    - `ChangeDetectionStrategy.CheckAlways`: after calling detectChanges the mode of the change detector will remain `CheckAlways`
    - `ChangeDetectionStrategy.Checked`: change detector should be skipped until its mode changes to `CheckOnce`
    - `ChangeDetectionStrategy.CheckOnce`: after calling detectChanges the mode of the change detector will become `Checked`

- Having the ability to specify change detection strategy can reduce the number of checks and improve app's performance


## Pipes

- Pipes allow you to transform values in templates before they are outputed to the view.
- Pipes were formerly known as filters in Angular 1.x
- A pipe is defined using the `@pipe` class decorator
- The pipe decorator takes name as a parameter defining the name of the pipe: `@pipe({ name: 'myPipe' })`
- Every pipe class has a `transform` method that transforms input to outputs:
    - The first parameter is the input to the pipe
    - The second parameter is the list of arguments passed to the pipe
- Give the following pipe in a template: `{{ data | somePipe:1:'px'}}`:
    - `data` is the input to pipe --  the first parameter of the transform method
    - `[1, 'px']` is the arguments to the pipe -- the second parameter of the transform method
- A pipe can be as simple as:

    ~~~~{.numberLines .java startFrom="1"}
    @pipe({name: 'simplePipe'})
    class MyPipe {
      transform(input, args) { return input + 'px'; }
    }
    ~~~~~~~

- If you want to use a pipe, you need to register your pipe class with the components in the pipes array:

    ~~~~{.numberLines .java startFrom="1"}
    @component({
      selector: '...',
      pipes: [MyPipe] // adding pipe to the array of pipes.
    })
    class MyComponent {}
    ~~~~~~~

- Pipes can be chained: `input | pipe1 | pipe2 | pipe3 `
    - `input | pipe1 : output1`
    - `output1 | pipe2: output2`
    - `output2 | pipe3 : finalOutput`

### Basic Pipe

Let's make a basic pipe called `pixel` that takes a value as the input and appends 'px' to the end of it. The project files for this section are in [angular2-intro/project-files/angular-examples/pipes/basic-pipe](https://github.com/st32lth/angular2-intro/tree/master/project-files/angular-examples/pipes/basic-pipe).

Start by making a copy of the "starter" folder and call it "basic-pipe" and put it in `project-files/angular-examples`. Then, open the folder in VSCode: `code project-files/angular-examples/basic-pipe` and start the build with `command + shift + b`.

Then, create a file for the pipe and call it `pixel.pipe.ts` in the root of the project.

After that we need to do couple of things to define the pipe:

- Import the Pipe Class Metadata from angular core: `import {Pipe} from 'Angular/core'`
- Then create a class defining the Pipe:

    ~~~~{.numberLines .java startFrom="1"}
    class PixelPipe {

    }
    ~~~~~~~

- Implement the `transform` method in the class:

    ~~~~{.numberLines .java startFrom="1"}
    class PixelPipe {
      transform(input) {
        return input + 'px';
      }
    }
    ~~~~~~~

- After implementing the method, we need to decorate the class and give the pipe a name that we want to use in our templates:

    ~~~~{.numberLines .java startFrom="1"}
    @Pipe({name: 'pixel'}) // <- adding the decorator
    class PixelPipe {
      transform(input) {
        return input + 'px';
      }
    }
    ~~~~~~~

- As the last step we are going to export the class by putting the `export` keyword behind the class:

    ~~~~{.numberLines .java startFrom="1"}
    ...
    export class PixelPipe {
      ...
    }
    ~~~~~~~

Now, your file should look like the following:

~~~~{.numberLines .java startFrom="1"}
import {Pipe} from 'angular2/core';
@Pipe({name: 'pixel'}) // <- adding the decorator
export class PixelPipe {
  transform(input) {
    return input + 'px';
  }
}
~~~~~~~

Now, let's go back to the `main.ts` file and import our pipe:

~~~~{.numberLines .java startFrom="1"}
import {Component} from 'angular2/core';
import {bootstrap} from 'angular2/platform/browser';
import {PixelPipe} from './pixel.pipe'; // <- importing pipe
~~~~~~~

After importing our pipe, we should register it with our component by adding it to the `pipes` array:

~~~~{.numberLines .java startFrom="1"}
@Component({
  selector: 'app',
  templateUrl : 'templates/app.tpl.html',
  pipes: [PixelPipe] // <- registering the pipe
})
~~~~~~~

Now that we have registered the pipe, we can use it in our template in `templates/app.tpl.html`:

~~~~{.numberLines .html startFrom="1"}
<h1>{{ name }}</h1>
<p>Pixel value: {{ 25 | pixel }}</p>
~~~~~~~

You should be all set now. You can set the url in your `launch.json` file and hit F5:

~~~~{.numberLines .json startFrom="1"}
...
"url": "http://localhost:8080/project-files/angular-examples/basic-pipe/index.html",
...
~~~~~~~

If your server is running you should be able to see the following output:

![Running the pixelPipe in the browser](images/basic-pipe.png)

### Chaining Pipes

Let's continue where we left off with the "pixelPipe" and add another pipe called "round" that rounds down given values, that is:

~~~~~~~
25.3 | round | pixel -> 25px
~~~~~~~

The project files for this section are in [angular2-intro/project-files/angular-examples/pipes/pipe-chaining](https://github.com/st32lth/angular2-intro/tree/master/project-files/angular-examples/pipes/pipe-chaining).

We are going to add the "roundPipe" to our "basic-pipe" project. Let's get started by adding the `round.pipe.ts` file in the root of the project:

~~~~{.numberLines .java startFrom="1"}
import {Pipe} from 'angular2/core';
@Pipe({name: 'round'})
export class RoundPipe {
  transform (input) {
    return Math.floor(+input); // <- convert input to number and then floor it.
  }
}
~~~~~~~

This Pipe is not complicated at all. We are just returning the floor of the input. We are also converting the input to number by putting a `+` before input.

Now, let's import the pipe into our `main.ts` file:

~~~~{.numberLines .java startFrom="1"}
import {Component} from 'angular2/core';
import {bootstrap} from 'angular2/platform/browser';
import {PixelPipe} from './pixel.pipe';
import {RoundPipe} from './round.pipe'; // <- importing `RoundPipe`
~~~~~~~

and then we have to add the pipe to the list of pipe array:

~~~~{.numberLines .java startFrom="1"}
@Component({
  selector: 'app',
  templateUrl : 'templates/app.tpl.html',
  pipes: [PixelPipe, RoundPipe] // <- registering the pipe
})
~~~~~~~

after that we are going to add the following to our `templates/app.tpl.html` file:

~~~~{.numberLines .html startFrom="1"}
<p>Pixel value: {{ 34.4 | round | pixel }}</p>
~~~~~~~

After running the app you should see `34.px` as the output on the page.

### Pipes with Parameters

In this section we are going to extend our 'pixel' pipe to accept an optional parameter to set the unit. As a result, we are going to rename the 'pixel' pipe to 'unit' to make it more generic. This pipe will take the unit as an optional argument. If no argument is passed, it will default to 'px'. That is:

~~~~~~~
25 | unit -> 25px
25 | unit:'em' -> 25em
34.5 | round | unit:'%' -> 34%
~~~~~~~

You can look at the project files in [angular2-intro/project-files/angular-examples/pipes/pipe-unit](https://github.com/st32lth/angular2-intro/tree/master/project-files/angular-examples/pipes/pipe-unit).. AFter refactoring the name of the Pipe, we just need to change the implementation of the "UnitPipe":

**`unit.pipe.ts`**

~~~~{.numberLines .java startFrom="1"}
import {Pipe} from 'angular2/core';
@Pipe({name: 'unit'})
export class UnitPipe {
  transform(input, args:string) {
    const unit = args[0] || 'px';
    return input + unit;
  }
}
~~~~~~~

- On line 5, we are grabbing the first parameter that is passed in and setting it to the `unit` variable. And if the value is not set, we are setting 'px' as the default value.
- And finally we are returning `input + unit`.

That's basically all we have to do. Note that you can pass multiple parameters separated by `:` and they all become available in the `args` array. So if you wanted to expand this pipe, this is how your template would look like:

~~~~{.numberLines .html startFrom="1"}
{{ 25 | unit:'em':2}}
~~~~~~~

And the `args` array would be: `['em', 2]`.

### Async Pipes

Async Pipes can be used for values that will be resolved after some asynchronous operation like getting a value after making a http call.

**TODO**


### Built-in Pipes

In this section we are going to look at the pipes that Angular provides out of the box.

- [AsyncPipe](https://angular.io/docs/ts/latest/api/common/AsyncPipe-class.html): used to work with asynchronous values
- [CurrencyPipe](https://angular.io/docs/ts/latest/api/common/CurrencyPipe-class.html): used to format a number as a local currency
- [DatePipe](https://angular.io/docs/ts/latest/api/common/DatePipe-class.html): used to format a date object to a readable string
- [DecimalPipe](https://angular.io/docs/ts/latest/api/common/DecimalPipe-class.html): used to format numbers
- [JsonPipe](https://angular.io/docs/ts/latest/api/common/JsonPipe-class.html): calls `JSON.stringify` on the input and useful for debugging
- [LowerCasePipe](https://angular.io/docs/ts/latest/api/common/LowerCasePipe-class.html): used to convert a string to lowercase letters
- [PercentPipe](https://angular.io/docs/ts/latest/api/common/PercentPipe-class.html): used to format a number as percentage
- [SlicePipe](https://angular.io/docs/ts/latest/api/common/SlicePipe-class.html): used to create a subset of list or string
- [UpperCasePipe](https://angular.io/docs/ts/latest/api/common/UpperCasePipe-class.html): used to transform a text to upper case

#### Date

~~~~{.numberLines .html startFrom="1"}
{{ input | date:optionalFormat}}
~~~~~~~

- `input`: a date object or a number (milliseconds since UTC epoch)
- `optionalFormat`: a string used to format the output. It specifies which components of date and time to include in the output

**Using predefined formats**

Usage Example: `{{ input | date:'short'}}`

+--------------+---------------------------+
| Name         | Example                   |
+==============+===========================+
| `short`      | 9/3/2010, 12:05 PM        |
+--------------+---------------------------+
| `shortDate`  | 9/3/2010                  |
+--------------+---------------------------+
| `medium`     | Sep 3, 2010, 12:05:08 PM  |
+--------------+---------------------------+
| `mediumDate` | Sep 3, 2010               |
+--------------+---------------------------+
| `longDate`   | September 3, 2010         |
+--------------+---------------------------+
| `fullDate`   | Friday, September 3, 2010 |
+--------------+---------------------------+
| `shortTime`  | 12:05 PM                  |
+--------------+---------------------------+
| `mediumTime` | 12:05:08 PM               |
+--------------+---------------------------+

**Using Custom Formats**

- Generally speaking every date object has a year, month, day, hour, minute, and second.
- Using a custom string, you can specify which component you would like to include in the output.

+------+-----------------+-----+-------------+------------+--------+--------+
| Year | Month           | Day | Weekday     | Hour       | Minute | Second |
+======+=================+=====+=============+============+========+========+
| y    | M, MMM, MMMM    | d   | EEE, EEEE   | j, h, H    | m      | s      |
+------+-----------------+-----+-------------+------------+--------+--------+
| 2016 | 1, Jan, January | 1   | Sun, Sunday | 1, 1 AM, 1 | 1      | 1      |
+------+-----------------+-----+-------------+------------+--------+--------+


Note that every single letter identifier can be used twice to denote a double digit numeric value. For example, `yy` will result in `15` for the year value. Below is a table just to be thorough:

**Double Digit**

+------+-------+-----+----------------+--------+--------+
| Year | Month | Day | Hour           | Minute | Second |
+======+=======+=====+================+========+========+
| yy   | MM    | dd  | jj, hh, HH     | mm     | ss     |
+------+-------+-----+----------------+--------+--------+
| 16   | 01    | 01  | 01,  01 AM, 01 | 01     | 01     |
+------+-------+-----+----------------+--------+--------+

Details for Month/Weekday/Hour are summarized in the tables below:

**Month Details**

+-------+-----------+-----------+
| M     | MMM       | MMMM      |
+=======+===========+===========+
| Digit | Abbr Name | Full Name |
+-------+-----------+-----------+
| 1     | Jan       | January   |
+-------+-----------+-----------+


**Weekday Details**

+-----------+-----------+
| EEE       | EEEE      |
+===========+===========+
| Abbr Name | Full Name |
+-----------+-----------+
| Sun       | Sunday    |
+-----------+-----------+


**Hour Details**

+-------+--------------+----------+
| j     | h            | H        |
+=======+==============+==========+
| Digit | Hour12 AM/PM | Military |
+-------+--------------+----------+
| 13    | 1 PM         | 13       |
+-------+--------------+----------+

#### Slice

- The slice pipe is useful when you want a subset of a list or string. One of the common use cases are in when iterating over a list with `ngFor` for example.

**TODO**

#### Decimal

- Used for formatting numbers given a decimal formatter

**TODO**

#### Percent

**TODO**

#### Currency

**TODO**

#### Async

**TODO**

#### Json

**TODO**

#### LowerCase

**TODO**

#### UpperCase

**TODO**


## Dependency Injection

Dependency Injection is a coding pattern in which a class receives its dependencies from external sources rather than creating them itself. In order to achieve Dependency Injection we need a Dependency InjectionFramework to handle the dependencies for us. Using a DI framework, you simply ask for a class from the injector instead of worrying about the dependencies inside the class itself.

Angular has a standalone module that handles Dependency Injection. This framework can also be used in non-Angular applications to handle Dependency Injection.


**TODO**


## Services and Providers

- A service is nothing more than a class in Angular 2. It remains nothing more than a class until we register it with the Angular injector.
- When you bootstrap your app, Angular creates an injector on the fly that can inject services and other dependencies throughout the app.
- You can register the service or the dependencies during when bootstrapping the app or when defining a component.
- If you have a class called `MyService`, you can register it with the Injector and then you can inject it everywhere:

    ~~~~{.numberLines .java startFrom="1"}
    bootstrap(App, [MyService]); // second param is an array of providers
    ~~~~~~~
- Providers is a way to specify what services are available inside the component in a hierarchical fashion.
- A provider can be a class, a value or a factory.
- Providers create the instances of the things that we ask the injector to inject.
- `[SomeService];` is short for `[provide(SomeService, {useClass:SomeService})];` where the first param is the token, and the second is the definition object.
- A simple object can be passed to the Injector to create a Value Provider:

    ~~~~{.numberLines .java startFrom="1"}
    beforeEachProviders(() => {
      let someService = { getData: () => [] };
      // using `useValue` instead of `useClass`
      return [ provide(SomeSvc, {useValue: someService}) ];
    });
    ~~~~~~~
- You can also use a factory as a provider.
- You can use a factory function that creates a properly configured Service:

    ~~~~{.numberLines .java startFrom="1"}
    let myServiceFactory = (dx: DepX, dy: DepY) => {
      return new MyService(dx, dy.value);
    }

    // provider definition object.
    let myServiceDefinition = {
       useFactory: myServiceFactory,
       deps: [DepX, DepY]
    };

    // create provider and bootstrap
    let myServiceProvider = provide(MyService, myServiceDefinition);
    bootstrap(AppComponent, [myServiceProvider, DepX, DepY]);
    ~~~~~~~

- Defining object dependencies is simple. You can make a plain JavaScript object available for injection using a string-based token and the `@Inject` decorator:

    ~~~~{.numberLines .java startFrom="1"}
    var myObj = {};

    bootstrap(AppComponent, [
      provide('coolObjToken', {useValue: myObj})
    ]);

    // and you can inject it to a component

    import {Inject} from 'angular2/core'
    constructor(dx: DepX, @Inject('coolObjToken') config)
    ~~~~~~~

### Simple Service

In this section we are going to make a simple service and use it in our root component.

**Project Files**

The project files for this section are in [angular2-intro/project-files/angular-examples/services/simple-service](https://github.com/st32lth/angular2-intro/tree/master/project-files/angular-examples/services/simple-service);

**Getting Started**

Let's get started by creating a class, called `StudentSvc` that represents our service:

~~~~{.numberLines .java startFrom="1"}
class StudentSvc {
  private students: any[];
  constructor() {
    this.students = [
      {name: 'Tom', id: 1},
      {name: 'John', id: 2},
      {name: 'Kim', id: 3},
      {name: 'Liz', id: 4}
    ];
  }
  getAll() {
    return this.students;
  }
}
~~~~~~~

There is nothing special about this class. It's just a class the has a method to return the list of all students. Now, we are going to make it special by decorating it with the `Injectable` decorator. But, first we need to import `Injectable` from Angular:

~~~~{.numberLines .java startFrom="1"}
import {Injectable} from 'angular2/core';
~~~~~~~

After importing the `Injectable` metadata class, we can decorate our class:

~~~~{.numberLines .java startFrom="1"}
/**
 * Student service
 */
@Injectable() // <- decorating with `Injectable`
class StudentSvc {
  private students: any[];
  constructor() {
   // ...
  }
  // ...
}
~~~~~~~

Now we have an injectable class and the injector would know how to create an instance of it when we need to inject it. And that's what we are going to do next. We are going to add `StudentSvc` in the list of `viewProviders` of the root component:

~~~~{.numberLines .java startFrom="1"}
@Component({
  selector: 'app',
  templateUrl : 'templates/app.tpl.html',
  viewProviders: [StudentSvc] // <- registering the service
})
~~~~~~~

The last thing we need to do is to inject the service in the constructor of our root component:

~~~~{.numberLines .java startFrom="1"}
class Root  {
  private name: string;
  private students: any[];
  constructor (studentSvc: StudentSvc) { // <- injecting the service
    this.name = 'Simple Service Demo';
    this.students = studentSvc.getAll(); // <- calling the `getAll` method
  }
}
~~~~~~~

- In the constructor, we are defining a variable to be of type `StudentSvc`. By doing that the injector will create an instance from the `StudentSvc` to be used

- And on line 6 we are calling the `getAll` method from the service to get a list of all students.

Finally, we can verify that the `getAll` method is actually called by printing the students in the template:

**`app.tpl.html`**

~~~~{.numberLines .html startFrom="1"}
<h1>{{ name }}</h1>

<ul>
  <li *ngFor="#student of students">Name: {{ student.name }}, id: {{ student.id }}</li>
</ul>
~~~~~~~

and it would output:

~~~~~~~
Name: Tom, id: 1
Name: John, id: 2
Name: Kim, id: 3
Name: Liz, id: 4
~~~~~~~


## Data and State Management

- Angular is flexible and doesn't prescribe a recipe for managing data in your apps
- Since observables are integrated into Angular, you can take advantage of observables to manage data and state
- You ca use services to manage streams that emit models
- Components can subscribe to the streams maintained by services and render accordingly.
    - For example, you can have a service for a Todo app that contains a stream of todos and a `ListComponent` can listen for todos and render when a new task is added.
    - You may have another component that listens for the user that has been assigned to a task provided by a service.
- The steps for creating different parts of an app can be summarized in three steps:
    - Defining a Model using a class
    - Defining the service
    - Defining the component

### Observables

- Observables can help manage async data
- Observables are similar to Promises but with a lot of differences
- Observables emit multiple values over time as opposed to one
- Angular embraces observables using the RxJS library.
- Observables emit events and observers observe observables.
- An observer *subscribes* to events emitted from an observable.
- RxJS has an object called *subject* that can be used both as an observer or an observable. *Subject* can be imported from `RxJS` very easily:

    ~~~~{.numberLines .java startFrom="1"}
    import {Subject} from 'rxjs/Subject';
    ~~~~~~~
- A subscription can be canceled by calling the `unsubscribe` method.

**TODO**

### State Management with Observables

- There are several ways to manage state, one of them is using observables
- Observables can be used to represent the state of the app
- Changes in the state are represented as an observable

**TODO**



## Http

- Using the `Http` class, you can interact with API endpoints
- Http is available as an injectable class
- `Http` has a request method that returns an Observable which will emit a single Response when a response is received.
- You can inject `http` in the constructor of a class: `constructor(http: Http) {...}`

### Getting Data from Server

In this section we are going to use the `http` class to get a list of students from a server by hitting `/api/students`

**Project Files**

The project files for this section are in [angular2-intro/project-files/angular-examples/http/get-students](https://github.com/st32lth/angular2-intro/tree/master/project-files/angular-examples/http/get-students)

**Getting Started**

Before anything, let's add the `http.js` file from Angular's bundle. In your `index.html` file add the following to the head tag:

~~~~{.numberLines .html startFrom="1"}
<script src="/node_modules/angular2/bundles/http.js"></script>
<pre><code>
After that, we are going to make a service that handles getting data from the endpoint. We are going to call this `StudentSvc`:

~~~~{.numberLines .java startFrom=&quot;1&quot;}
@Injectable()
class StudentSvc {
  constructor(private http: Http) {} /* Inject Http */
  getStudents(): Observable&lt;Response&gt; {
    return this.http.get(&#39;/api/students&#39;);
  }
}</code></pre>
<ul>
<li>On line 1, we are using the <code>Injectable</code> decorator to make our class injectable</li>
<li>In the constructor we are injecting the <code>Http</code> service and making a reference to it in a private variable <code>http</code></li>
<li>The <code>getStudents</code> method makes a <code>GET</code> call to our local endpoint an returns an <code>Observable</code></li>
</ul>
<p>Now that we have the <code>StudentSvc</code> service, we can create a component and inject the <code>StudentSvc</code> to it:</p>
<div class="sourceCode" startFrom="1"><table class="sourceCode numberLines java"><tr class="sourceCode"><td class="lineNumbers"><pre>1
2
3
4
5
</pre></td><td class="sourceCode"><pre><code class="sourceCode java"><span class="fu">@Component</span>({
  selector: &#39;app&#39;,
  templateUrl :&#39;templates/app.<span class="fu">tpl</span>.<span class="fu">html</span>&#39;,
  providers: [StudentSvc] <span class="co">// &lt;- adding to the list of providers</span>
})</code></pre></td></tr></table></div>
<p>In addition to the <code>StudentSvc</code>, we also need to add <code>HTTP_PROVIDERS</code> in the providers array:</p>
<div class="sourceCode" startFrom="1"><table class="sourceCode numberLines java"><tr class="sourceCode"><td class="lineNumbers"><pre>1
2
3
4
5
</pre></td><td class="sourceCode"><pre><code class="sourceCode java"><span class="fu">@Component</span>({
  selector: &#39;app&#39;,
  templateUrl :&#39;templates/app.<span class="fu">tpl</span>.<span class="fu">html</span>&#39;,
  providers: [HTTP_PROVIDERS, StudentSvc] <span class="co">// &lt;- adding `HTTP_PROVIDERS`</span>
})</code></pre></td></tr></table></div>
<p>After adding the providers, we can define the component class:</p>
<div class="sourceCode" startFrom="1"><table class="sourceCode numberLines java"><tr class="sourceCode"><td class="lineNumbers"><pre>1
2
3
4
5
6
7
8
9
</pre></td><td class="sourceCode"><pre><code class="sourceCode java"><span class="fu">@Component</span>({...})
<span class="kw">class</span> HttpGetExample  {
  <span class="kw">private</span> name: string;
  <span class="kw">private</span> students: Observable&lt;Response&gt;;
  <span class="fu">constructor</span> (studentSvc: StudentSvc) {
    <span class="kw">this</span>.<span class="fu">name</span> = &#39;HTTP Get&#39;;
    studentSvc.<span class="fu">getStudents</span>().<span class="fu">subscribe</span>(resp =&gt; <span class="kw">this</span>.<span class="fu">students</span> = resp.<span class="fu">json</span>());
  }
}</code></pre></td></tr></table></div>
<p>If you notice, we are injecting the <code>StudentSvc</code> in the constructor and we are calling the <code>getStudents</code> method in the constructor. The <code>getStudents</code> returns an observable that we can subscribe to get the data out as they arrive. We also call the <code>json</code> method on each response to get the JSON data.</p>
<p>After getting the data, we can print the result in the view:</p>
<p><strong><code>app.tpl.html</code></strong></p>
<div class="sourceCode" startFrom="1"><table class="sourceCode numberLines html"><tr class="sourceCode"><td class="lineNumbers"><pre>1
2
3
4
5
6
</pre></td><td class="sourceCode"><pre><code class="sourceCode html"><span class="kw">&lt;h1&gt;</span>{{ name }}<span class="kw">&lt;/h1&gt;</span>
<span class="kw">&lt;ul&gt;</span>
  <span class="kw">&lt;li</span> <span class="er">*ngFor</span><span class="ot">=</span><span class="st">&quot;#student of students&quot;</span><span class="kw">&gt;</span>
    {{ student.name }}, {{ student.lastname }}
  <span class="kw">&lt;/li&gt;</span>
<span class="kw">&lt;/ul&gt;</span></code></pre></td></tr></table></div>
<p>Here we are using the built-in <code>ngFor</code> directive to loop through the array of students and print their name and last name to the page.</p>
</div>
</div>
</div>
<div id="working-with-forms" class="section level2">
<h2>Working with Forms</h2>
<p>Angular has convenient methods for working with forms, including validation.</p>
<p><strong>TODO</strong></p>
</div>
<div id="angular-router" class="section level2">
<h2>Angular Router</h2>
<p>Angular has a stand-alone module responsible for handling routing.</p>
<p><strong>TODO</strong></p>
</div>
<div id="unit-testing" class="section level2">
<h2>Unit Testing</h2>
<p>Unit testing with Angular requires some set up. First, let's gather all the libraries and modules that we need.</p>
<p><strong>TODO</strong></p>
</div>
</div>
<div id="deep-dive" class="section level1">
<h1>Deep Dive</h1>
<p>Let's deep dive into Angular and RxJS concepts</p>
<div id="components-in-depth" class="section level2">
<h2>Components in Depth</h2>
<ul>
<li>A component declares a reusable building block of an app</li>
<li>A TypeScript class is used to define a component coupled with the <code>@component</code> decorator</li>
</ul>
<p>The <code>@component</code> decorator defines the following:</p>
<ul>
<li>selector: <code>string</code> value defining the css selector targeting an html element</li>
<li>inputs: <code>array of string</code> values defining the inputs to the component</li>
<li>outputs: <code>array of string</code> values defining the output of the component</li>
<li>properties: <code>array of string</code> values defining the properties</li>
<li>events: <code>array of string</code> values defining the events</li>
<li>host?: {['string']: 'string'},</li>
<li>providers: <code>array of objects</code>: defines the set of injectable objects that are visible to a directive/component and its light DOM children.</li>
<li>exportAs: <code>string</code> value defining the exported value</li>
<li>moduleId: <code>string</code> value defining the module id</li>
<li>viewProviders?: <code>array of objects</code>: defines the set of injectable objects that are visible to a directive/component view DOM children.</li>
<li>queries: {[key: string]: any},</li>
<li><p>changeDetection: <code>ChangeDetectionStrategy</code> object defining the strategy for detecting changes:</p>
<ul>
<li><code>ChangeDetectionStrategy.Default</code>: sets detector mode to <code>CheckAlways</code></li>
<li><code>ChangeDetectionStrategy.OnPush</code>: sets detector mode to <code>CheckOnce</code></li>
<li><code>ChangeDetectionStrategy.Detached</code>: change detector sub tree is not a part of the main tree and should be skipped</li>
<li><code>ChangeDetectionStrategy.CheckAlways</code>: after calling detectChanges the mode of the change detector will remain <code>CheckAlways</code></li>
<li><code>ChangeDetectionStrategy.Checked</code>: change detector should be skipped until its mode changes to <code>CheckOnce</code></li>
<li><code>ChangeDetectionStrategy.CheckOnce</code>: after calling detectChanges the mode of the change detector will become <code>Checked</code></li>
</ul></li>
<li>templateUrl: <code>string</code> value for the url path to the template</li>
<li>template: <code>string</code> value for the template</li>
<li>styleUrls: <code>array of string</code> values defining url paths to css files</li>
<li><p>styles: <code>array of string</code> values defining css styles:</p>
<ul>
<li>styles: ['.myclass { color: #000;}'],</li>
</ul></li>
<li>directives: <code>array</code> of directives used in the component</li>
<li>pipes: <code>array</code> of pipes used in the component</li>
<li>encapsulation: <code>ViewEncapsulation</code> value that defines template and style encapsulation options:
<ul>
<li><code>ViewEncapsulation.None</code>: means do not provide any style encapsulation</li>
<li><code>ViewEncapsulation.Emulated</code>: No Shadow DOM but style encapsulation emulation using extra attributes on the DOM (default method)</li>
<li><code>ViewEncapsulation.Native</code>: means provide native shadow DOM encapsulation and styles appear in component’s template inside the shadow root.</li>
</ul></li>
</ul>
<p><strong>TODO</strong></p>
</div>
</div>
<div id="rxjs" class="section level1">
<h1>RxJS</h1>
<ul>
<li>RxJS is a library for reactive programming</li>
<li>Reactive programming is a natural way of thinking about asynchronous code which concerns itself with operations on event streams</li>
<li>RxJS is used in this paradigm to compose asynchronous data/event streams</li>
<li>Using the reactive paradigm, you can perform operations on streams using a consistent interface regardless of the data source</li>
<li>Streams of events/data are known as Observables, i.e. a data/event stream = observable</li>
<li>A program can be just composed of different data streams (observables)</li>
</ul>
<p><strong>TODO</strong></p>
<ul>
<li><a href="http://rxmarbles.com/">Visualization</a></li>
</ul>
</div> 
    </div>
<script>
var isToggle = 1;
document.getElementsByClassName('l-main-content')[0].style.left = 0;
document.getElementById('TOC').style.display = 'none';
document.getElementById('js-toggle-content').addEventListener('click', function () {
  isToggle = !isToggle;
  if (isToggle) {
    document.getElementsByClassName('l-main-content')[0].style.left = 0;
    document.getElementById('TOC').style.display = 'none';
  } else {
    document.getElementsByClassName('l-main-content')[0].style.left = '333px';
    document.getElementById('TOC').style.display = 'block';
  }
});
</script>
</body>

</html>
